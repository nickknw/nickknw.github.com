<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Nick Knowlson</title>
 <link href="http://nickknowlson.com/atom.xml" rel="self"/>
 <link href="http://nickknowlson.com/"/>
 <updated>2012-01-06T20:57:38-08:00</updated>
 <id>http://nickknowlson.com/</id>
 <author>
   <name>Nick Knowlson</name>
 </author>

 
 <entry>
   <title>Transposing a matrix in Io</title>
   <link href="http://nickknowlson.com/blog/2011/12/30/transposing-a-matrix-in-io/"/>
   <updated>2011-12-30T00:00:00-08:00</updated>
   <id>http://nickknowlson.com/blog/2011/12/30/transposing-a-matrix-in-io</id>
   <content type="html">&lt;p&gt;While doing the exercises from Seven Languages In Seven Weeks, I came up with a neat solution to transposing a matrix that was encouraged by Io&amp;#8217;s flexibility and free-wheeling nature. Instead of creating a new transposed matrix or attempting a complicated in-place transpose, I did something that executes in O(1), uses a negligible amount of memory, and is very short and simple.&lt;/p&gt;

&lt;p&gt;What? How is it possible to transpose a matrix of 1,000,000 elements in the same time it takes to transpose a matrix of 4?&lt;/p&gt;

&lt;p&gt;By cheating! I &lt;strong&gt;don&amp;#8217;t&lt;/strong&gt; transpose the matrix, I modify the element accessor methods so that they interpret the &lt;code&gt;x&lt;/code&gt; parameter as &lt;code&gt;y&lt;/code&gt;, and vice versa. To my dismay, I later found that &lt;a href='http://en.wikipedia.org/wiki/Transpose#Implementation_of_matrix_transposition_on_computers'&gt;this isn&amp;#8217;t a new approach&lt;/a&gt; to solving this problem.&lt;/p&gt;

&lt;p&gt;However, my implementation in Io still has something going for it. Because of Io&amp;#8217;s extreme malleability, I can write my &lt;code&gt;transpose&lt;/code&gt; method such that calling it permanently swaps the argument order in the &lt;code&gt;get&lt;/code&gt; and &lt;code&gt;set&lt;/code&gt; methods of that individual matrix object. In most other languages &lt;a href='#footnote-1' class='super' id='footnote-1-link'&gt;[1]&lt;/a&gt; , writing this kind of fake transpose would require keeping track of state with if statements to check if a given matrix is currently &amp;#8216;transposed&amp;#8217; or not. This is, conceptually, nonsense: transposing is something you &lt;em&gt;do to&lt;/em&gt; matrices, not a &lt;em&gt;property&lt;/em&gt; of them.&lt;/p&gt;

&lt;p&gt;Io lets you write this in a way that is fun, short, and elegant.&lt;/p&gt;

&lt;h2 id='the_solution'&gt;The Solution&lt;/h2&gt;

&lt;p&gt;Here is the problem statement from the book:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Write a transpose method so that (new_matrix get(y, x)) == matrix get(x,y) on the original list&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Before we get started, this is what the final solution looks like. Try and become a little familiar with this before we move on (it will all be explained in detail below, don&amp;#8217;t worry).&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;&lt;span class='n'&gt;flipFirstTwoArgs&lt;/span&gt; &lt;span class='o'&gt;:=&lt;/span&gt; &lt;span class='k'&gt;method&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;,&lt;/span&gt;
    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;setArgumentNames&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt; &lt;span class='n'&gt;list&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;
        &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;argumentNames&lt;/span&gt; &lt;span class='n'&gt;at&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='mf'&gt;1&lt;/span&gt;&lt;span class='o'&gt;),&lt;/span&gt;
        &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;argumentNames&lt;/span&gt; &lt;span class='n'&gt;at&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='mf'&gt;0&lt;/span&gt;&lt;span class='o'&gt;),&lt;/span&gt;
        &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;argumentNames&lt;/span&gt; &lt;span class='n'&gt;rest&lt;/span&gt; &lt;span class='n'&gt;rest&lt;/span&gt;
    &lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;flatten&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt;
&lt;span class='o'&gt;)&lt;/span&gt;

&lt;span class='n'&gt;List2D&lt;/span&gt; &lt;span class='n'&gt;transpose&lt;/span&gt; &lt;span class='o'&gt;:=&lt;/span&gt; &lt;span class='k'&gt;method&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;
    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;get&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;flipFirstTwoArgs&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;get&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt;
    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;set&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;flipFirstTwoArgs&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;set&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt;
&lt;span class='o'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;List2D is a simple matrix prototype from the previous exercise. It is the thing that is being transposed.&lt;/p&gt;

&lt;p&gt;The &lt;code&gt;transpose&lt;/code&gt; method itself is simple enough: most of the heavy lifting is done in a helper method I created, &lt;code&gt;flipFirstTwoArgs&lt;/code&gt;. From its name and the name of its argument, we can tell this method is saying: &amp;#8220;give me the name of a slot that holds a method and I will flip the first two arguments of that method&amp;#8221;.&lt;/p&gt;

&lt;p&gt;Okay. So, how?&lt;/p&gt;

&lt;h2 id='the_explanation'&gt;The Explanation&lt;/h2&gt;

&lt;p&gt;The following line of code gets the method we are going to modify and sets the names of its arguments.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Line 1:&lt;/strong&gt;&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;setArgumentNames&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt; 
        &lt;span class='c1'&gt;#list of argument names goes here &lt;/span&gt;
    &lt;span class='o'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;For a concrete example, if I just wanted to change the argument names for my &amp;#8220;get&amp;#8221; method from get(x, y) to get(y, x) I could hardcode in some values and call it like this:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;get&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;setArgumentNames&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;list&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;y&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;,&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;x&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;But that wouldn&amp;#8217;t quite be fancy enough. I&amp;#8217;d rather write a method that would let me swap the first two arguments of &lt;strong&gt;any&lt;/strong&gt; method. So, going back to the snippet above, that&amp;#8217;s what the next two lines do:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Lines 2-3:&lt;/strong&gt;&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;argumentNames&lt;/span&gt; &lt;span class='n'&gt;at&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='mf'&gt;1&lt;/span&gt;&lt;span class='o'&gt;),&lt;/span&gt;
    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;argumentNames&lt;/span&gt; &lt;span class='n'&gt;at&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='mf'&gt;0&lt;/span&gt;&lt;span class='o'&gt;),&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;If I wanted to keep the arguments in the same order I would have put the 0 in the first line, then the 1 in the second line. Make sense so far?&lt;/p&gt;

&lt;p&gt;I could have left it here, but then what would happen if I told it to change a method that looked like &lt;code&gt;doSomething(x, y, z)&lt;/code&gt;? The z would get discarded and that method wouldn&amp;#8217;t be very useful anymore. Hence the next line:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Line 4:&lt;/strong&gt;&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;argumentNames&lt;/span&gt; &lt;span class='n'&gt;rest&lt;/span&gt; &lt;span class='n'&gt;rest&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code&gt;rest&lt;/code&gt; is Io&amp;#8217;s version of &lt;code&gt;cdr&lt;/code&gt; or &lt;code&gt;tail&lt;/code&gt;. It is a method that returns everything except for the first element of a list. So if you call &lt;code&gt;rest&lt;/code&gt; on the result of &lt;code&gt;rest&lt;/code&gt; you get a list that has all its elements except for the first two. It is like saying &lt;code&gt;drop 2&lt;/code&gt; in Haskell.&lt;/p&gt;

&lt;p&gt;Let&amp;#8217;s recap. If I had called flipFirstTwoArgs with my fictitious &lt;code&gt;doSomething(x, y, z)&lt;/code&gt; method, these previous lines would resolve into:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;doSomething&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;setArgumentNames&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt; &lt;span class='n'&gt;list&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;
        &lt;span class='s'&gt;&amp;quot;y&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;,&lt;/span&gt; 
        &lt;span class='s'&gt;&amp;quot;x&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;,&lt;/span&gt; 
        &lt;span class='n'&gt;list&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;z&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt;
    &lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='o'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;That&amp;#8217;s not quite right, &lt;code&gt;setArgumentNames&lt;/code&gt; is expecting a simple flat list, none of this nested list stuff. So let&amp;#8217;s flatten the list of argument names before giving it to &lt;code&gt;setArgumentNames&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Line 5:&lt;/strong&gt;&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;    &lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;flatten&lt;/span&gt; &lt;span class='o'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;If we apply it to the &lt;code&gt;doSomething&lt;/code&gt; example, the code now looks like this:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;doSomething&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;setArgumentNames&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt; &lt;span class='n'&gt;list&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;
        &lt;span class='s'&gt;&amp;quot;y&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;,&lt;/span&gt; 
        &lt;span class='s'&gt;&amp;quot;x&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;,&lt;/span&gt; 
        &lt;span class='n'&gt;list&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;z&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt;
    &lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;flatten&lt;/span&gt; &lt;span class='o'&gt;)&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Which would end up resolving into:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;doSomething&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;setArgumentNames&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt; &lt;span class='n'&gt;list&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;y&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;,&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;x&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;,&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;z&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='o'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;There, much better. And that explains the last line!&lt;/p&gt;

&lt;h2 id='wrapup'&gt;Wrap-up&lt;/h2&gt;

&lt;p&gt;Now, putting back together all the lines I&amp;#8217;ve explained, here is the body of the &lt;code&gt;flipFirstTwoArgs&lt;/code&gt; method again:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;    &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;setArgumentNames&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt; &lt;span class='n'&gt;list&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;
        &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;argumentNames&lt;/span&gt; &lt;span class='n'&gt;at&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='mf'&gt;1&lt;/span&gt;&lt;span class='o'&gt;),&lt;/span&gt;
        &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;argumentNames&lt;/span&gt; &lt;span class='n'&gt;at&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='mf'&gt;0&lt;/span&gt;&lt;span class='o'&gt;),&lt;/span&gt;
        &lt;span class='n'&gt;self&lt;/span&gt; &lt;span class='n'&gt;getSlot&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;slotName&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;argumentNames&lt;/span&gt; &lt;span class='n'&gt;rest&lt;/span&gt; &lt;span class='n'&gt;rest&lt;/span&gt;
    &lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;flatten&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;If I&amp;#8217;ve done my job right, it should make a lot more sense this time.&lt;/p&gt;

&lt;p&gt;You can find the rest of the code (including the List2D prototype) on github - a good place to start is &lt;a href='https://github.com/nickknw/seven-languages-in-seven-weeks/blob/master/week-2-io/day2.io#L72'&gt;line 72 of day2.io&lt;/a&gt;. To read more I&amp;#8217;ve written about solving these exercises, check my &lt;a href='/projects/seven-languages-in-seven-weeks/'&gt;project page for Seven Languages in Seven Weeks&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Footnotes&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;There are exceptions of course. I'm sure any lisp would be great at this, as well as Ruby, Groovy, and other languages with powerful metaprogramming capabilities. &lt;a href='#footnote-1-link' id='footnote-1'&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Seven Languages In Seven Weeks: Week 2 (Io) - Day 1</title>
   <link href="http://nickknowlson.com/blog/2011/12/18/seven-languages-week-2-day-1/"/>
   <updated>2011-12-18T00:00:00-08:00</updated>
   <id>http://nickknowlson.com/blog/2011/12/18/seven-languages-week-2-day-1</id>
   <content type="html">&lt;p&gt;Day 1 of Io is the first of many chapters that will give me that &amp;#8216;new at programming&amp;#8217; feeling again, where I fumble just trying to build a valid expression that does what I want it to. I actually like that feeling; it means I am learning something new and a web of structures is forming in my mind. I like it &lt;em&gt;almost&lt;/em&gt; as much as finally making that first deep connection from a group of new concepts to some of your existing ones, and starting to grasp the parallels. Fortunately for me, that is what this book is all about!&lt;/p&gt;
&lt;div class='interjection'&gt;&lt;p&gt;
(This article is part of a series of posts I am doing about my journey through the exercises of the book &lt;a href='http://pragprog.com/book/btlang/seven-languages-in-seven-weeks'&gt;Seven Languages In Seven Weeks&lt;/a&gt;. The article previous to this one is &lt;a href='/blog/2011/12/15/seven-languages-week-1-day-3/'&gt;Week 1 (Ruby) - Day 3&lt;/a&gt;. For an overview see the &lt;a href='/projects/seven-languages-in-seven-weeks/'&gt;project page&lt;/a&gt;.)
&lt;/p&gt;&lt;/div&gt;
&lt;h2 id='how_io_feels'&gt;How Io feels&lt;/h2&gt;

&lt;p&gt;Syntactically, Io is a very very lightweight language, evocative of lisps in its regularity and minimalism. It provides a nice contrast with the previous chapter on Ruby. Ruby&amp;#8217;s definition of simple code is something like &amp;#8220;The more an expression reads like a (succinct) explanation of its intent, the better&amp;#8221; whereas Io&amp;#8217;s definition of simple code is something like &amp;#8220;The less extraneous syntax that is needed to represent an expression, the better&amp;#8221;.&lt;/p&gt;

&lt;p&gt;Because of this approach, Io lends itself very well to metaprogramming &amp;#8211; at least as well as Ruby does, possibly better. It does not have as the wide and varied set of built-in metaprogramming tools that Ruby does, but it also needs far fewer due to the way the language is constructed. Io is a &lt;a href='http://en.wikipedia.org/wiki/Prototype-based_programming'&gt;prototype-based&lt;/a&gt; language, the first of the less familiar programming paradigms in this book. I won&amp;#8217;t go into depth about this here except to note that Javascript is prototype-based as well, so learning Io could be very beneficial to anyone that does a fair amount of programming Javascript.&lt;/p&gt;

&lt;h2 id='highlights_from_exercises'&gt;Highlights from exercises&lt;/h2&gt;

&lt;p&gt;The homework this week is short but well-constructed. It points out a couple of things that are important to remember for a newbie to Io. In particular, you will need &lt;code&gt;slotNames&lt;/code&gt; a lot, so remember that one!&lt;/p&gt;

&lt;p&gt;Here is my full code listing for the exercises from Day 1 of Io. The home of this piece of code is with the other exercises &lt;a href='https://github.com/nickknw/seven-languages-in-seven-weeks/blob/master/week-2-io/day1.io'&gt;on github&lt;/a&gt;.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='io'&gt;&lt;span class='c1'&gt;# Find:&lt;/span&gt;
&lt;span class='c1'&gt;#   Some Io example problems&lt;/span&gt;
&lt;span class='c1'&gt;#       http://www.iolanguage.com/about/samplecode/&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;#   An Io community that will answer questions&lt;/span&gt;
&lt;span class='c1'&gt;#       http://tech.groups.yahoo.com/group/iolanguage/messages&lt;/span&gt;
&lt;span class='c1'&gt;#       http://stackoverflow.com/questions/tagged/iolanguage&lt;/span&gt;
&lt;span class='c1'&gt;#       #io on freenode&lt;/span&gt;
&lt;span class='c1'&gt;#       http://www.reddit.com/r/iolanguage&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;#   A style guide with Io idioms&lt;/span&gt;
&lt;span class='c1'&gt;#       http://en.wikibooks.org/wiki/Io_Programming/Io_Style_Guide&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;# Answer:&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;# 1. Evaluate 1 + 1 and then 1 + &amp;quot;one&amp;quot;. Is Io strongly typed or weakly typed?&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;#   Strongly typed. Trying to run `1 + &amp;quot;one&amp;quot;` throws an exception that says:&lt;/span&gt;
&lt;span class='c1'&gt;#       &amp;quot;Exception: argument 0 to method &amp;#39;+&amp;#39; must be a Number, not a &amp;#39;Sequence&amp;#39;&amp;quot;&lt;/span&gt;
&lt;span class='c1'&gt;#   &lt;/span&gt;
&lt;span class='c1'&gt;# 2. Is 0 true or false? What about the empty string? Is nil true or false?&lt;/span&gt;

&lt;span class='k'&gt;if&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='mf'&gt;0&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;println&lt;/span&gt;   &lt;span class='c1'&gt;# true&lt;/span&gt;
&lt;span class='k'&gt;if&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;println&lt;/span&gt;  &lt;span class='c1'&gt;# true&lt;/span&gt;
&lt;span class='k'&gt;if&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='no'&gt;nil&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt; &lt;span class='n'&gt;println&lt;/span&gt; &lt;span class='c1'&gt;# false&lt;/span&gt;

&lt;span class='c1'&gt;# 3. How can you tell what slots a prototype supports?&lt;/span&gt;
&lt;span class='c1'&gt;# &amp;lt;prototype&amp;gt; slotNames&lt;/span&gt;

&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='o'&gt;:=&lt;/span&gt; &lt;span class='n'&gt;Object&lt;/span&gt; &lt;span class='k'&gt;clone&lt;/span&gt;
&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;sixPool&lt;/span&gt; &lt;span class='o'&gt;:=&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;Zergling rush!&amp;quot;&lt;/span&gt;
&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;slotNames&lt;/span&gt; &lt;span class='n'&gt;println&lt;/span&gt;  &lt;span class='c1'&gt;# will print list(type, sixPool)&lt;/span&gt;

&lt;span class='c1'&gt;# 4. What is the difference between = (equals), := (colon equals), and ::=&lt;/span&gt;
&lt;span class='c1'&gt;# (colon colon equals)? When would you use each one?&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;# =     is used to assign something to an existing slot&lt;/span&gt;
&lt;span class='c1'&gt;# :=    is used to assign something to a previously non-existent slot&lt;/span&gt;
&lt;span class='c1'&gt;# ::=   is used to assign something to a previously non-existent slot as well as&lt;/span&gt;
&lt;span class='c1'&gt;#       create a setter for that slot&lt;/span&gt;
&lt;span class='c1'&gt;#   &lt;/span&gt;
&lt;span class='c1'&gt;#   iolanguage.com&amp;#39;s guide puts this much much better than I did:&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;# ::= 	Creates slot, creates setter, assigns value&lt;/span&gt;
&lt;span class='c1'&gt;# := 	Creates slot, assigns value&lt;/span&gt;
&lt;span class='c1'&gt;# = 	Assigns value to slot if it exists, otherwise raises exception &lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;# Do:&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;# 1. Run an Io program from a file.&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;# From the command line run: io day1.io&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;

&lt;span class='s'&gt;&amp;quot;successfully ran day1&amp;quot;&lt;/span&gt; &lt;span class='n'&gt;println&lt;/span&gt;

&lt;span class='c1'&gt;# 2.Execute the code in a slot given its name.&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;# I&amp;#39;m not quite sure I understood this question. I&amp;#39;ll answer the two&lt;/span&gt;
&lt;span class='c1'&gt;# interpretations I could come up with.&lt;/span&gt;
&lt;span class='c1'&gt;#&lt;/span&gt;
&lt;span class='c1'&gt;# If the code in a slot is stored as a method then just invoking the slot is&lt;/span&gt;
&lt;span class='c1'&gt;# enough:&lt;/span&gt;

&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;macroItUp&lt;/span&gt; &lt;span class='o'&gt;:=&lt;/span&gt; &lt;span class='k'&gt;method&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;Injecting larvae now!&amp;quot;&lt;/span&gt; &lt;span class='n'&gt;println&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt;
&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;macroItUp&lt;/span&gt; &lt;span class='c1'&gt;# Will print &amp;quot;Injecting larvae now!&amp;quot;&lt;/span&gt;

&lt;span class='c1'&gt;# If the code in a slot is stored as a string then you should use something like&lt;/span&gt;
&lt;span class='c1'&gt;# doString:&lt;/span&gt;

&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;macroHarderSteps&lt;/span&gt; &lt;span class='o'&gt;:=&lt;/span&gt; &lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;\&amp;quot;Spreading creep now!\&amp;quot; println&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt;
&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;macroHarder&lt;/span&gt; &lt;span class='o'&gt;:=&lt;/span&gt; &lt;span class='k'&gt;method&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='k'&gt;doString&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;macroHarderSteps&lt;/span&gt;&lt;span class='o'&gt;))&lt;/span&gt;
&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;macroHarder&lt;/span&gt;

&lt;span class='c1'&gt;# Update: Re-reading this now the intent of the question seems obvious! Write a&lt;/span&gt;
&lt;span class='c1'&gt;# method that, given a method name, will try to execute that method.&lt;/span&gt;
&lt;span class='s'&gt;&amp;quot;\nLet&amp;#39;s try that again&amp;quot;&lt;/span&gt; &lt;span class='n'&gt;println&lt;/span&gt;
&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;specifyMacro&lt;/span&gt; &lt;span class='o'&gt;:=&lt;/span&gt; &lt;span class='k'&gt;method&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;name&lt;/span&gt;&lt;span class='o'&gt;,&lt;/span&gt; &lt;span class='n'&gt;perform&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='n'&gt;name&lt;/span&gt;&lt;span class='o'&gt;))&lt;/span&gt;
&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;specifyMacro&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;macroItUp&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt;
&lt;span class='n'&gt;Zerg&lt;/span&gt; &lt;span class='n'&gt;specifyMacro&lt;/span&gt;&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;macroHarder&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;)&lt;/span&gt;
&lt;span class='s'&gt;&amp;quot;Done!&amp;quot;&lt;/span&gt; &lt;span class='n'&gt;println&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;And the output:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;&lt;span class='nv'&gt;$ &lt;/span&gt;io day1.io
&lt;span class='nb'&gt;true&lt;/span&gt;
&lt;span class='nb'&gt;true&lt;/span&gt;
&lt;span class='nb'&gt;false&lt;/span&gt;
list&lt;span class='o'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;type&lt;/span&gt;, sixPool&lt;span class='o'&gt;)&lt;/span&gt;
successfully ran day1
Injecting larvae now!
Spreading creep now!

Let&lt;span class='err'&gt;&amp;#39;&lt;/span&gt;s try that again
Injecting larvae now!
Spreading creep now!
Done!
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Seven Languages In Seven Weeks: Week 1 (Ruby) - Day 3</title>
   <link href="http://nickknowlson.com/blog/2011/12/15/seven-languages-week-1-day-3/"/>
   <updated>2011-12-15T00:00:00-08:00</updated>
   <id>http://nickknowlson.com/blog/2011/12/15/seven-languages-week-1-day-3</id>
   <content type="html">&lt;p&gt;Day 3 is about metaprogramming: writing code that writes code. Now we are really getting into the meat of Ruby, exploring some of the things that things that set it apart from other languages. Ruby has a powerful and varied toolset to make metaprogramming easy and natural. It gives you full control to tweak and patch built in classes, and even makes it convenient. These tools(SYN) can combine with its flexible syntax to let you create readable internal DSLs especially easily.&lt;/p&gt;
&lt;div class='interjection'&gt;&lt;p&gt;
(This article is part of a series of posts I am doing about my journey through the exercises of the book &lt;a href='http://pragprog.com/book/btlang/seven-languages-in-seven-weeks'&gt;Seven Languages In Seven Weeks&lt;/a&gt;. The article previous to this one is &lt;a href='/blog/2011/12/04/seven-languages-week-1-day-2/'&gt;Week 1 (Ruby) - Day 2&lt;/a&gt;. For an overview see the &lt;a href='/projects/seven-languages-in-seven-weeks/'&gt;project page&lt;/a&gt;.)
&lt;/p&gt;&lt;/div&gt;
&lt;h2 id='topics_covered'&gt;Topics covered&lt;/h2&gt;

&lt;p&gt;This was a fairly quick week, with only a few topics and one homework question. Not that this is a bad thing necessarily &amp;#8211; in the end it turned out to be a nice break before the tough stuff really started. The main three topics in Day 3 were: open classes, method_missing, and mixins.&lt;/p&gt;
&lt;h3&gt;Open classes&lt;/h3&gt;
&lt;p&gt;In Ruby you have the power to modify or add to any class, even the built-in ones. You can open up the String class and add a new method called &lt;code&gt;quack()&lt;/code&gt;, or redefine &lt;code&gt;size()&lt;/code&gt; to return a random integer. Using this power without restraint can lead to pretty impressive messes of spaghetti code.&lt;/p&gt;

&lt;p&gt;Modifying existing classes at runtime in this way has become known as &lt;a href='http://en.wikipedia.org/wiki/Monkey_patch'&gt;monkey patching&lt;/a&gt;, and also (my favorite) &lt;a href='http://www.ericdelabar.com/2008/05/metaprogramming-javascript.html'&gt;duck punching&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Well, I was just totally sold by Adam, the idea being that if it walks like a duck and talks like a duck, it’s a duck, right? So if this duck is not giving you the noise that you want, you’ve got to just punch that duck until it returns what you expect. &amp;#8211; Patrick Ewing&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;You&amp;#8217;ve got to just &lt;em&gt;punch&lt;/em&gt; that duck.&lt;/p&gt;
&lt;h3&gt;Method_missing&lt;/h3&gt;
&lt;p&gt;This special method gets called any time a method that doesn&amp;#8217;t exist is called. If you implement it you have access to the name and arguments of the method that was called. In the book, Bruce Tate gives an example of using this to create a nice way to specify roman numerals. The result is that you can say &lt;code&gt;roman.X&lt;/code&gt;, &lt;code&gt;roman.III&lt;/code&gt;, &lt;code&gt;roman.CXII&lt;/code&gt;, etc.&lt;/p&gt;

&lt;p&gt;I saw another example of &lt;code&gt;method_missing&lt;/code&gt;&amp;#8217;s power in Chapter 8 of &lt;a href='http://shop.oreilly.com/product/9780596516178.do'&gt;The Ruby Programming Language&lt;/a&gt;, where a simple DSL for generating html is created. This is what it looks like in use:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='ruby'&gt;&lt;span class='n'&gt;pagetitle&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Test Page for XML.generate&amp;quot;&lt;/span&gt;
&lt;span class='no'&gt;XML&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;generate&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='no'&gt;STDOUT&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt;
  &lt;span class='n'&gt;html&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt;
    &lt;span class='n'&gt;head&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt;
      &lt;span class='n'&gt;title&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='n'&gt;pagetitle&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
      &lt;span class='n'&gt;comment&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;This is a test&amp;quot;&lt;/span&gt;
    &lt;span class='k'&gt;end&lt;/span&gt;
    &lt;span class='n'&gt;body&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt;
      &lt;span class='n'&gt;h1&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='ss'&gt;:style&lt;/span&gt; &lt;span class='o'&gt;=&amp;gt;&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;font-family:sans-serif&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='n'&gt;pagetitle&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
      &lt;span class='n'&gt;ul&lt;/span&gt; &lt;span class='ss'&gt;:type&lt;/span&gt;&lt;span class='o'&gt;=&amp;gt;&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;square&amp;quot;&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt;
        &lt;span class='n'&gt;li&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='no'&gt;Time&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;now&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
        &lt;span class='n'&gt;li&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='no'&gt;RUBY_VERSION&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
      &lt;span class='k'&gt;end&lt;/span&gt;
    &lt;span class='k'&gt;end&lt;/span&gt;
  &lt;span class='k'&gt;end&lt;/span&gt;
&lt;span class='k'&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The implementation is fairly short: they create a basic XML class in only 53 well-commented lines. If you&amp;#8217;re interested, the code examples are available for inspection from &lt;a href='http://www.davidflanagan.com/rpl/'&gt;David Flanagan&amp;#8217;s website&lt;/a&gt;. For convenience, here is a link &lt;a href='/RPL_XML.txt'&gt;directly to this snippet of code&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Mixins&lt;/h3&gt;
&lt;p&gt;Mixins are a way for a class to include code from a module inside itself. Imagine a class including a module with a &lt;code&gt;Meow()&lt;/code&gt; method. This would let you call &lt;code&gt;Meow()&lt;/code&gt; on any instance of that class. Combined with open classes and the ability to add or change methods at runtime, this makes it easy to package and use code that changes code.&lt;/p&gt;

&lt;p&gt;As I understand it, ActiveRecord in Rails is sort of the poster child for how metaprogramming using mixins. It will customize your domain models at runtime with many things, including accessors using the column names from the database. I admit I don&amp;#8217;t know a lot about the details of this area, but there is a whole book dedicated to &lt;a href='http://pragprog.com/book/ppmetr/metaprogramming-ruby'&gt;metaprogramming in Ruby&lt;/a&gt; that I plan on reading someday.&lt;/p&gt;

&lt;h2 id='what_was_missing'&gt;What was missing&lt;/h2&gt;

&lt;p&gt;Surprisingly, an entire category of useful metaprogramming tools are are almost skipped right over in Day 3. There are a lot of great methods to interact with and create methods and classes on the fly, and these are only given a passing mention in one of the examples. Methods like &lt;code&gt;define_method&lt;/code&gt;, &lt;code&gt;alias_method&lt;/code&gt;, the different versions of &lt;code&gt;eval&lt;/code&gt;, or &lt;code&gt;methods.grep&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;With these tools Ruby gives you, without much effort you can do things like: find all methods that have a name like &lt;code&gt;/check.*/&lt;/code&gt;, systematically rename those methods, and replace them with a method that does something (like logging) and THEN execute the method.&lt;/p&gt;

&lt;p&gt;Ola Bini has a great &lt;a href='http://ola-bini.blogspot.com/2006/09/ruby-metaprogramming-techniques.html'&gt;post about metaprogramming in Ruby&lt;/a&gt; that talks about these techniques and more. I recommend it if you have been at all interested this post so far, it is well worth reading.&lt;/p&gt;

&lt;h2 id='highlights_from_exercises'&gt;Highlights from exercises&lt;/h2&gt;

&lt;p&gt;There was not very much to do for the homework questions this week, unfortunately, just one fairly short exercise. This day in particular was one that I think could have used some really cool examples. Metaprogramming has a lot of depth and exciting possibilities, and this chapter could have shown that off more with better exercises.&lt;/p&gt;

&lt;p&gt;Anyway, the exercise for this day shows some basic usage of &lt;code&gt;method_missing&lt;/code&gt;. The existing ActsAsCsv module is given to you to extend, so the most interesting bit of code in the exercise is the definition of &lt;code&gt;method_missing&lt;/code&gt; in CsvRow. It takes the name of the method and attempts to return the rows from the column that has that name.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='ruby'&gt;&lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;method_missing&lt;/span&gt; &lt;span class='nb'&gt;name&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='o'&gt;*&lt;/span&gt;&lt;span class='n'&gt;args&lt;/span&gt;
    &lt;span class='n'&gt;content_index&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='vi'&gt;@header_row&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;index&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;name&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;to_s&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
    &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='vi'&gt;@content_row&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='n'&gt;content_index&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;
&lt;span class='k'&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Here is my full code listing for the exercises from Day 3 of Ruby. The home of this piece of code is with the other exercises &lt;a href='https://github.com/nickknw/seven-languages-in-seven-weeks/blob/master/week-1-ruby/day3.rb'&gt;on github&lt;/a&gt;.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='ruby'&gt;&lt;span class='c1'&gt;#Do:&lt;/span&gt;
&lt;span class='c1'&gt;# 1. Modify the CSV application to support an each method to return a CsvRow&lt;/span&gt;
&lt;span class='c1'&gt;# object. Use method_missing on that CsvRow to return the value for the column&lt;/span&gt;
&lt;span class='c1'&gt;# for a given heading.&lt;/span&gt;

&lt;span class='k'&gt;module&lt;/span&gt; &lt;span class='nn'&gt;ActsAsCsv&lt;/span&gt;

    &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nc'&gt;self&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='nf'&gt;included&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;base&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
        &lt;span class='n'&gt;base&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;extend&lt;/span&gt; &lt;span class='no'&gt;ClassMethods&lt;/span&gt;
    &lt;span class='k'&gt;end&lt;/span&gt;

    &lt;span class='k'&gt;module&lt;/span&gt; &lt;span class='nn'&gt;ClassMethods&lt;/span&gt;
        &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;acts_as_csv&lt;/span&gt;
            &lt;span class='kp'&gt;include&lt;/span&gt; &lt;span class='no'&gt;InstanceMethods&lt;/span&gt;
        &lt;span class='k'&gt;end&lt;/span&gt;
    &lt;span class='k'&gt;end&lt;/span&gt;

    &lt;span class='k'&gt;module&lt;/span&gt; &lt;span class='nn'&gt;InstanceMethods&lt;/span&gt;

        &lt;span class='kp'&gt;attr_accessor&lt;/span&gt; &lt;span class='ss'&gt;:headers&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='ss'&gt;:csv_rows&lt;/span&gt;

        &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;read&lt;/span&gt;
            &lt;span class='vi'&gt;@csv_rows&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='o'&gt;[]&lt;/span&gt;
            &lt;span class='n'&gt;file&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;File&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;self&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;class&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;to_s&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;downcase&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;.txt&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
            &lt;span class='vi'&gt;@headers&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;file&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;gets&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;chomp&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;split&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;, &amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;

            &lt;span class='n'&gt;file&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;row&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt;
                &lt;span class='n'&gt;csv_contents&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;row&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;chomp&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;split&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;, &amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
                &lt;span class='vi'&gt;@csv_rows&lt;/span&gt; &lt;span class='o'&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class='no'&gt;CsvRow&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='vi'&gt;@headers&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;csv_contents&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
            &lt;span class='k'&gt;end&lt;/span&gt;
        &lt;span class='k'&gt;end&lt;/span&gt;

        &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;initialize&lt;/span&gt;
            &lt;span class='n'&gt;read&lt;/span&gt;
        &lt;span class='k'&gt;end&lt;/span&gt;

        &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;each&lt;/span&gt; &lt;span class='o'&gt;&amp;amp;&lt;/span&gt;&lt;span class='n'&gt;block&lt;/span&gt;
            &lt;span class='vi'&gt;@csv_rows&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='o'&gt;&amp;amp;&lt;/span&gt;&lt;span class='n'&gt;block&lt;/span&gt;
        &lt;span class='k'&gt;end&lt;/span&gt;

    &lt;span class='k'&gt;end&lt;/span&gt;

    &lt;span class='k'&gt;class&lt;/span&gt; &lt;span class='nc'&gt;CsvRow&lt;/span&gt;
        &lt;span class='kp'&gt;attr_accessor&lt;/span&gt; &lt;span class='ss'&gt;:header_row&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='ss'&gt;:content_row&lt;/span&gt;

        &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;initialize&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;header_row&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;content_row&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
            &lt;span class='vi'&gt;@header_row&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;header_row&lt;/span&gt;
            &lt;span class='vi'&gt;@content_row&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;content_row&lt;/span&gt;
        &lt;span class='k'&gt;end&lt;/span&gt;

        &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;method_missing&lt;/span&gt; &lt;span class='nb'&gt;name&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='o'&gt;*&lt;/span&gt;&lt;span class='n'&gt;args&lt;/span&gt;
            &lt;span class='n'&gt;content_index&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='vi'&gt;@header_row&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;index&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;name&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;to_s&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
            &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='vi'&gt;@content_row&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='n'&gt;content_index&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;
        &lt;span class='k'&gt;end&lt;/span&gt;
    &lt;span class='k'&gt;end&lt;/span&gt;
&lt;span class='k'&gt;end&lt;/span&gt;

&lt;span class='k'&gt;class&lt;/span&gt; &lt;span class='nc'&gt;RubyCsv&lt;/span&gt; 
    &lt;span class='kp'&gt;include&lt;/span&gt; &lt;span class='no'&gt;ActsAsCsv&lt;/span&gt;
    &lt;span class='n'&gt;acts_as_csv&lt;/span&gt;
&lt;span class='k'&gt;end&lt;/span&gt;

&lt;span class='n'&gt;csv&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;RubyCsv&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;
&lt;span class='n'&gt;csv&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;row&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; &lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='n'&gt;row&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;one&lt;/span&gt;&lt;span class='p'&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;And the output (given the sample file in my github repo):&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;&lt;span class='nv'&gt;$ &lt;/span&gt;ruby day3.rb
lions
han
chewbacca
r2 d2
anakin skywalker
leia organa
threepio
jawa
emperor palpatine
darth sidious
bail organa
vader
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Next in this series: &lt;a href='/blog/2011/12/18/seven-languages-week-2-day-1/'&gt;Day 1 of Io&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Seven Languages In Seven Weeks: Week 1 (Ruby) - Day 2</title>
   <link href="http://nickknowlson.com/blog/2011/12/04/seven-languages-week-1-day-2/"/>
   <updated>2011-12-04T00:00:00-08:00</updated>
   <id>http://nickknowlson.com/blog/2011/12/04/seven-languages-week-1-day-2</id>
   <content type="html">&lt;p&gt;Day 2 of Ruby covers collections, code blocks, classes and modules. I&amp;#8217;m familiar enough with these already in Ruby so in this case it will be hard to provide a &amp;#8216;learning the language&amp;#8217; perspective. Instead I will try to highlight a few of the parts of Ruby in this chapter that I particularly like.&lt;/p&gt;
&lt;div class='interjection'&gt;&lt;p&gt;
(This article is part of a series of posts I am doing about my journey through the exercises of the book &lt;a href='http://pragprog.com/book/btlang/seven-languages-in-seven-weeks'&gt;Seven Languages In Seven Weeks&lt;/a&gt;. The article previous to this one is &lt;a href='/blog/2011/11/27/seven-languages-week-1-day-1/'&gt;Week 1 (Ruby) - Day 1&lt;/a&gt;. For an overview see the &lt;a href='/projects/seven-languages-in-seven-weeks/'&gt;project page&lt;/a&gt;.)
&lt;/p&gt;&lt;/div&gt;
&lt;p&gt;Ruby has closures and first-class functions - code blocks are one way of creating a Proc - an anonymous function. A Proc is almost but not quite a lambda - there are &lt;a href='http://www.robertsosinski.com/2008/12/21/understanding-ruby-blocks-procs-and-lambdas/'&gt;a few differences between them&lt;/a&gt;, and Ruby has a separate &lt;code&gt;lambda&lt;/code&gt; method for creating those.&lt;/p&gt;

&lt;p&gt;Ruby&amp;#8217;s arrays and hashes are very multipurpose: hashes are frequently used to give a method named parameters; and arrays have built in methods so that they can be used as queues, stacks, sets, and matrices.&lt;/p&gt;

&lt;p&gt;Its syntax is consistent and pretty. Arrays are very rich, you can do ranges (&lt;code&gt;[1..10]&lt;/code&gt;), negative indexes (&lt;code&gt;&amp;quot;string&amp;quot;[1..-2]&lt;/code&gt;), and there are convenience methods for operations like push, pop, transpose, and set intersection. You have the three basic list manipulating higher order function equivalents: map, filter, reduce (fold).&lt;/p&gt;

&lt;p&gt;There are many useful methods you can call right off of number literals. One common example is &lt;code&gt;times&lt;/code&gt;, which takes a code block as a parameter and executes it. This can sometimes be a nice way to express a loop: &lt;code&gt;4.times { puts &amp;quot;testing&amp;quot; }&lt;/code&gt; or &lt;code&gt;4.times { |i| puts i }&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;For anyone coming from C#, ruby&amp;#8217;s blocks can substitute for &lt;code&gt;using&lt;/code&gt; in many places, like when opening a file:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='ruby'&gt;&lt;span class='no'&gt;File&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;open&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;tmp.txt&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;r&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;line&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt;
    &lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='n'&gt;line&lt;/span&gt;
&lt;span class='p'&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;No need to worry about forgetting to &lt;code&gt;.close()&lt;/code&gt; the file later on.&lt;/p&gt;

&lt;p&gt;Here is my full code listing for the exercises from Day 2 of Ruby. The home of this piece of code is with the other exercises &lt;a href='https://github.com/nickknw/seven-languages-in-seven-weeks/blob/master/week-1-ruby/day2.rb'&gt;on github&lt;/a&gt;.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='ruby'&gt;&lt;span class='c1'&gt;# Find:&lt;/span&gt;
&lt;span class='c1'&gt;# 1. Find out how to access files with and without code blocks. What is the&lt;/span&gt;
&lt;span class='c1'&gt;# benefit of the code block?&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;Find:&amp;quot;&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;1.&amp;quot;&lt;/span&gt;

&lt;span class='n'&gt;file&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;File&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;open&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;tmp.txt&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;w+&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='n'&gt;file&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;a spoonful is great but I&amp;#39;d rather have a bowl&amp;quot;&lt;/span&gt;
&lt;span class='n'&gt;file&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;close&lt;/span&gt;

&lt;span class='c1'&gt;# safer, less erroro-prone, shorter, more readable&lt;/span&gt;
&lt;span class='no'&gt;File&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;open&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;tmp.txt&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;r&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;line&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt;
    &lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='n'&gt;line&lt;/span&gt;
&lt;span class='p'&gt;}&lt;/span&gt;


&lt;span class='c1'&gt;# 2. How would you translate a hash to an array? Can you translate arrays to&lt;/span&gt;
&lt;span class='c1'&gt;# hashes?&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;2.&amp;quot;&lt;/span&gt;
&lt;span class='n'&gt;scores&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='n'&gt;gary&lt;/span&gt;&lt;span class='p'&gt;:&lt;/span&gt; &lt;span class='mi'&gt;5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;nick&lt;/span&gt;&lt;span class='p'&gt;:&lt;/span&gt; &lt;span class='mi'&gt;11&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;ted&lt;/span&gt;&lt;span class='p'&gt;:&lt;/span&gt; &lt;span class='mi'&gt;8&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;the_dude&lt;/span&gt;&lt;span class='p'&gt;:&lt;/span&gt;&lt;span class='mi'&gt;9&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='nb'&gt;print&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;hash: &amp;quot;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;scores&lt;/span&gt;
&lt;span class='nb'&gt;print&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;array1: &amp;quot;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;scores&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;to_a&lt;/span&gt;
&lt;span class='nb'&gt;print&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;array2: &amp;quot;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;scores&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;to_a&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;flatten&lt;/span&gt;

&lt;span class='n'&gt;scores_array1&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;scores&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;to_a&lt;/span&gt;
&lt;span class='nb'&gt;print&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;array1 to hash again 1: &amp;quot;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;scores_array1&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;inject&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='no'&gt;Hash&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;memo&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;pair&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; &lt;span class='n'&gt;memo&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='n'&gt;pair&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;first&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;pair&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;last&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='n'&gt;memo&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='nb'&gt;print&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;array1 to hash again 2: &amp;quot;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='no'&gt;Hash&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='n'&gt;scores_array1&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;
&lt;span class='n'&gt;scores_array2&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;scores&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;to_a&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;flatten&lt;/span&gt;
&lt;span class='nb'&gt;print&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;array2 to hash again 1: &amp;quot;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='no'&gt;Hash&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='n'&gt;scores_array2&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;
&lt;span class='nb'&gt;print&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;array2 to hash again 2: &amp;quot;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='no'&gt;Hash&lt;/span&gt;&lt;span class='o'&gt;[*&lt;/span&gt;&lt;span class='n'&gt;scores_array2&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Yup.&amp;quot;&lt;/span&gt;

&lt;span class='c1'&gt;# 3. Can you iterate through a hash?&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;3.&amp;quot;&lt;/span&gt;
&lt;span class='n'&gt;scores&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;key&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;value&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; &lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;key:&amp;#39;&lt;/span&gt;&lt;span class='si'&gt;#{&lt;/span&gt;&lt;span class='n'&gt;key&lt;/span&gt;&lt;span class='si'&gt;}&lt;/span&gt;&lt;span class='s2'&gt;&amp;#39;, value:&amp;#39;&lt;/span&gt;&lt;span class='si'&gt;#{&lt;/span&gt;&lt;span class='n'&gt;value&lt;/span&gt;&lt;span class='si'&gt;}&lt;/span&gt;&lt;span class='s2'&gt;&amp;#39;&amp;quot;&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Yup.&amp;quot;&lt;/span&gt;

&lt;span class='c1'&gt;# 4. You can use Ruby arrays as stacks. What other common data structures to&lt;/span&gt;
&lt;span class='c1'&gt;# arrays support?&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;4.&amp;quot;&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;queue/deque: &amp;quot;&lt;/span&gt;
&lt;span class='n'&gt;deque&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='o'&gt;[].&lt;/span&gt;&lt;span class='n'&gt;push&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;1&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;push&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;2&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='n'&gt;deque&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;unshift&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;unshift&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;deque&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='n'&gt;deque&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;shift&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='n'&gt;deque&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;shift&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='n'&gt;deque&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;pop&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='n'&gt;deque&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;pop&lt;/span&gt;

&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;list: &amp;quot;&lt;/span&gt;
&lt;span class='n'&gt;list&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='mi'&gt;1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;2&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;3&lt;/span&gt;&lt;span class='o'&gt;].&lt;/span&gt;&lt;span class='n'&gt;insert&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='mi'&gt;2&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='n'&gt;list&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;removed: &amp;quot;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='n'&gt;list&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;delete&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;

&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;(rudimentary) bag/set:&amp;quot;&lt;/span&gt;
&lt;span class='n'&gt;bag&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='mi'&gt;1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;2&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;3&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;3&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;4&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;5&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;
&lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;bag&lt;/span&gt;
&lt;span class='n'&gt;set&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;bag&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;uniq&lt;/span&gt;
&lt;span class='n'&gt;other_set&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='mi'&gt;3&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;5&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;
&lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;set&lt;/span&gt;
&lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;set&lt;/span&gt; &lt;span class='o'&gt;&amp;amp;&lt;/span&gt; &lt;span class='n'&gt;other_set&lt;/span&gt;

&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;(rudimentary) matrix:&amp;quot;&lt;/span&gt;
&lt;span class='n'&gt;matrix&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='o'&gt;[[&lt;/span&gt;&lt;span class='mi'&gt;1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;2&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;3&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='mi'&gt;4&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;6&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='mi'&gt;7&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;8&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='mi'&gt;9&lt;/span&gt;&lt;span class='o'&gt;]]&lt;/span&gt;
&lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;matrix&lt;/span&gt;
&lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;matrix&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;transpose&lt;/span&gt;


&lt;span class='c1'&gt;# Do:&lt;/span&gt;
&lt;span class='c1'&gt;# 1. Print the contents of an array of sixteen numbers, four numbers at a time,&lt;/span&gt;
&lt;span class='c1'&gt;# using just each. Now, do the same with each_slice in Enumerable&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;Do:&amp;quot;&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;1.&amp;quot;&lt;/span&gt;
&lt;span class='n'&gt;sixteen_numbers&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='o'&gt;[*&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='mi'&gt;1&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;.&lt;/span&gt;&lt;span class='mi'&gt;16&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;
&lt;span class='n'&gt;sixteen_numbers&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;number&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt;
        &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;sixteen_numbers&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='p'&gt;((&lt;/span&gt;&lt;span class='n'&gt;number&lt;/span&gt;&lt;span class='o'&gt;-&lt;/span&gt;&lt;span class='mi'&gt;4&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;.&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;number&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt; &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='n'&gt;number&lt;/span&gt; &lt;span class='o'&gt;%&lt;/span&gt; &lt;span class='mi'&gt;4&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='mi'&gt;0&lt;/span&gt;
&lt;span class='k'&gt;end&lt;/span&gt;

&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;and&amp;quot;&lt;/span&gt;

&lt;span class='n'&gt;sixteen_numbers&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each_slice&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='mi'&gt;4&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;slice&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;slice&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;


&lt;span class='c1'&gt;# 2. The Tree class was interesting, but it did not allow you to specify a new&lt;/span&gt;
&lt;span class='c1'&gt;# tree with a clean user interface. Let the initializer accept a nested&lt;/span&gt;
&lt;span class='c1'&gt;# structure with hashes and arrays. You should be able to specify a tree like&lt;/span&gt;
&lt;span class='c1'&gt;# this: {&amp;#39;grandpa&amp;#39; =&amp;gt; {&amp;#39;dad&amp;#39; =&amp;gt; &amp;#39;child 1&amp;#39; =&amp;gt; {}, &amp;#39;child 2&amp;#39; =&amp;gt; {} }, &amp;#39;uncle&amp;#39; =&amp;gt;&lt;/span&gt;
&lt;span class='c1'&gt;# {&amp;#39;child 3&amp;#39; =&amp;gt; {}, &amp;#39;child 4&amp;#39; =&amp;gt; {} } } }.&lt;/span&gt;

&lt;span class='k'&gt;class&lt;/span&gt; &lt;span class='nc'&gt;Tree&lt;/span&gt;
    &lt;span class='kp'&gt;attr_accessor&lt;/span&gt; &lt;span class='ss'&gt;:children&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='ss'&gt;:node_name&lt;/span&gt;

    &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;initialize&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;name&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;children&lt;/span&gt;&lt;span class='o'&gt;=[]&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
        &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='nb'&gt;name&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;respond_to?&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;keys&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='k'&gt;then&lt;/span&gt;
            &lt;span class='n'&gt;root_node&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;name&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;first&lt;/span&gt;
            &lt;span class='nb'&gt;name&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;root_node&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='mi'&gt;0&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;
            &lt;span class='n'&gt;children&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;root_node&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='mi'&gt;1&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;
        &lt;span class='k'&gt;end&lt;/span&gt;
        
        &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='n'&gt;children&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;respond_to?&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;keys&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='k'&gt;then&lt;/span&gt;
            &lt;span class='n'&gt;children&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;children&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;map&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;child_name&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;grandchildren&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; &lt;span class='no'&gt;Tree&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;child_name&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;grandchildren&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
        &lt;span class='k'&gt;end&lt;/span&gt;

        &lt;span class='vi'&gt;@node_name&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;name&lt;/span&gt;
        &lt;span class='vi'&gt;@children&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;children&lt;/span&gt;
    &lt;span class='k'&gt;end&lt;/span&gt;

    &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;visit_all&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='o'&gt;&amp;amp;&lt;/span&gt;&lt;span class='n'&gt;block&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
        &lt;span class='n'&gt;visit&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='o'&gt;&amp;amp;&lt;/span&gt;&lt;span class='n'&gt;block&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
        &lt;span class='n'&gt;children&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;c&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; &lt;span class='n'&gt;c&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;visit_all&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='o'&gt;&amp;amp;&lt;/span&gt;&lt;span class='n'&gt;block&lt;/span&gt;&lt;span class='p'&gt;)}&lt;/span&gt;
    &lt;span class='k'&gt;end&lt;/span&gt;

    &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;visit&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='o'&gt;&amp;amp;&lt;/span&gt;&lt;span class='n'&gt;block&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
        &lt;span class='n'&gt;block&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;call&lt;/span&gt; &lt;span class='nb'&gt;self&lt;/span&gt;
    &lt;span class='k'&gt;end&lt;/span&gt;
&lt;span class='k'&gt;end&lt;/span&gt;

&lt;span class='n'&gt;tree_test&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;Tree&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;Ruby&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
    &lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='no'&gt;Tree&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;Reia&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt;
     &lt;span class='no'&gt;Tree&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;MacRuby&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt; &lt;span class='p'&gt;)&lt;/span&gt;

&lt;span class='n'&gt;tree_test2&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;Tree&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;({&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;Ruby&amp;quot;&lt;/span&gt; &lt;span class='o'&gt;=&amp;gt;&lt;/span&gt;
    &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;Reia&amp;quot;&lt;/span&gt; &lt;span class='o'&gt;=&amp;gt;&lt;/span&gt; &lt;span class='p'&gt;{},&lt;/span&gt;
    &lt;span class='s2'&gt;&amp;quot;MacRuby&amp;quot;&lt;/span&gt; &lt;span class='o'&gt;=&amp;gt;&lt;/span&gt; &lt;span class='p'&gt;{}}&lt;/span&gt;
&lt;span class='p'&gt;})&lt;/span&gt;

&lt;span class='n'&gt;tree_test&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;visit_all&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;node&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;node&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;node_name&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='n'&gt;tree_test2&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;visit_all&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;node&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; &lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='n'&gt;node&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;node_name&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;


&lt;span class='c1'&gt;# 3. Write a simple grep that will print the lines of a file having any&lt;/span&gt;
&lt;span class='c1'&gt;# occurrences of a phrase anywhere in that line. you will need to do a simple&lt;/span&gt;
&lt;span class='c1'&gt;# regular expression match and read lines from a file. (This is surprisingly&lt;/span&gt;
&lt;span class='c1'&gt;# simple in Ruby.) If you want, include line numbers.&lt;/span&gt;
&lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;rbgrep&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;pattern&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;filename&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
    &lt;span class='n'&gt;regexp&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;Regexp&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;pattern&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
    &lt;span class='no'&gt;File&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;foreach&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;filename&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;with_index&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;line&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;line_num&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt;
        &lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='si'&gt;#{&lt;/span&gt;&lt;span class='n'&gt;line_num&lt;/span&gt;&lt;span class='si'&gt;}&lt;/span&gt;&lt;span class='s2'&gt;: &lt;/span&gt;&lt;span class='si'&gt;#{&lt;/span&gt;&lt;span class='n'&gt;line&lt;/span&gt;&lt;span class='si'&gt;}&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;&lt;/span&gt; &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='n'&gt;regexp&lt;/span&gt; &lt;span class='o'&gt;=~&lt;/span&gt; &lt;span class='n'&gt;line&lt;/span&gt;
    &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='k'&gt;end&lt;/span&gt;

&lt;span class='n'&gt;rbgrep&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;guitar&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;wikipedia_page.txt&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;And the output:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ruby day2.rb

Find:

1.
a spoonful is great but I&amp;#39;d rather have a bowl

2.
hash: {:gary=&amp;gt;5, :nick=&amp;gt;11, :ted=&amp;gt;8, :the_dude=&amp;gt;9}
array1: [[:gary, 5], [:nick, 11], [:ted, 8], [:the_dude, 9]]
array2: [:gary, 5, :nick, 11, :ted, 8, :the_dude, 9]
array1 to hash again 1: {:gary=&amp;gt;5, :nick=&amp;gt;11, :ted=&amp;gt;8, :the_dude=&amp;gt;9}
array1 to hash again 2: {:gary=&amp;gt;5, :nick=&amp;gt;11, :ted=&amp;gt;8, :the_dude=&amp;gt;9}
array2 to hash again 1: {}
array2 to hash again 2: {:gary=&amp;gt;5, :nick=&amp;gt;11, :ted=&amp;gt;8, :the_dude=&amp;gt;9}
Yup.

3.
key:&amp;#39;gary&amp;#39;, value:&amp;#39;5&amp;#39;
key:&amp;#39;nick&amp;#39;, value:&amp;#39;11&amp;#39;
key:&amp;#39;ted&amp;#39;, value:&amp;#39;8&amp;#39;
key:&amp;#39;the_dude&amp;#39;, value:&amp;#39;9&amp;#39;
Yup.

4.
queue/deque: 
[&amp;quot;b&amp;quot;, &amp;quot;a&amp;quot;, &amp;quot;1&amp;quot;, &amp;quot;2&amp;quot;]
b
a
2
1
list: 
1
2
c
3
removed: c
(rudimentary) bag/set:
[1, 2, 3, 3, 4, 5]
[1, 2, 3, 4, 5]
[3, 5]
(rudimentary) matrix:
[[1, 2, 3], [4, 5, 6], [7, 8, 9]]
[[1, 4, 7], [2, 5, 8], [3, 6, 9]]

Do:

1.
[1, 2, 3, 4]
[5, 6, 7, 8]
[9, 10, 11, 12]
[13, 14, 15, 16]
and
[1, 2, 3, 4]
[5, 6, 7, 8]
[9, 10, 11, 12]
[13, 14, 15, 16]
&amp;quot;Ruby&amp;quot;
&amp;quot;Reia&amp;quot;
&amp;quot;MacRuby&amp;quot;
&amp;quot;Ruby&amp;quot;
&amp;quot;Reia&amp;quot;
&amp;quot;MacRuby&amp;quot;
15: bass) and Andre Olbrich (guitar) under the name Lucifer&amp;#39;s Heritage. The band
17: changes: Markus Dörk (guitar) and Thomen Stauch (drums) were replaced by
48: Nightfall, bass guitar has been played by sessional member Oliver Holzwarth,
55: orchestral backing and a consistent vocal and guitar layering throughout.[9]
87: Blind Guardian&amp;#39;s music features the staccato guitars and double bass drumming
90: the guitar and vocal tracks, creates the impression of a vast army of musicians&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Next in this series: &lt;a href='/blog/2011/12/15/seven-languages-week-1-day-2/'&gt;Day 3 of Ruby&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Seven Languages In Seven Weeks: Week 1 (Ruby) - Day 1</title>
   <link href="http://nickknowlson.com/blog/2011/11/27/seven-languages-week-1-day-1/"/>
   <updated>2011-11-27T00:00:00-08:00</updated>
   <id>http://nickknowlson.com/blog/2011/11/27/seven-languages-week-1-day-1</id>
   <content type="html">&lt;p&gt;Out of the seven languages in this book, Ruby is the one I was most familiar with previously. It made for an easy start, and gave me a bit of momentum before I started to tackle languages like Prolog. I&amp;#8217;m appreciative of that, because Prolog sure was a struggle for a while.&lt;/p&gt;
&lt;div class='interjection'&gt;&lt;p&gt;
(This article is part of a series of posts I am doing about my journey through the exercises of the book &lt;a href='http://pragprog.com/book/btlang/seven-languages-in-seven-weeks'&gt;Seven Languages In Seven Weeks&lt;/a&gt;. This article is the first one in the series. For an overview see the &lt;a href='/projects/seven-languages-in-seven-weeks/'&gt;project page&lt;/a&gt;.)
&lt;/p&gt;&lt;/div&gt;
&lt;p&gt;Day 1 of Week 1 was pretty basic - a bit of string manipulation and looping. Ruby makes things like this very short and pretty.&lt;/p&gt;

&lt;p&gt;For example, being able to repeat a string like: &lt;code&gt;&amp;quot;Nick &amp;quot; * 10&lt;/code&gt; or loop like: &lt;code&gt;(1..10).each { |num| do_stuff(num) }&lt;/code&gt; is great.&lt;/p&gt;

&lt;p&gt;Here is my full code listing for the exercises from Day 1 of Ruby. The home of this piece of code is with the other exercises &lt;a href='https://github.com/nickknw/seven-languages-in-seven-weeks/blob/master/week-1-ruby/day1.rb'&gt;on github&lt;/a&gt;.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='ruby'&gt;&lt;span class='c1'&gt;# Find:&lt;/span&gt;
&lt;span class='c1'&gt;# 1. A method that substitutes a part of a string&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;Find:&amp;quot;&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;1.&amp;quot;&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;BAM&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;gsub&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;M&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;TMAN&amp;quot;&lt;/span&gt;


&lt;span class='c1'&gt;# Do:&lt;/span&gt;
&lt;span class='c1'&gt;# 1. Print the string &amp;quot;Hello World&amp;quot;&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;Do:&amp;quot;&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;1.&amp;quot;&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Hello World&amp;quot;&lt;/span&gt;

&lt;span class='c1'&gt;# 2. For the string &amp;quot;Hello, Ruby,&amp;quot; find the index of the word &amp;quot;Ruby.&amp;quot;&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;2.&amp;quot;&lt;/span&gt;
&lt;span class='c1'&gt;# literally:&lt;/span&gt;
&lt;span class='nb'&gt;p&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Hello, Ruby,&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;index&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Ruby.&amp;quot;&lt;/span&gt;
&lt;span class='c1'&gt;# realistically:&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Hello, Ruby&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;index&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Ruby&amp;quot;&lt;/span&gt;

&lt;span class='c1'&gt;# 3. Print your name ten times&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;3.&amp;quot;&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Nick &amp;quot;&lt;/span&gt; &lt;span class='o'&gt;*&lt;/span&gt; &lt;span class='mi'&gt;10&lt;/span&gt;

&lt;span class='c1'&gt;# 4. Print the string &amp;quot;This is sentence number 1,&amp;quot; where the number 1 changes&lt;/span&gt;
&lt;span class='c1'&gt;# from 1 to 10&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;4.&amp;quot;&lt;/span&gt;
&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='mi'&gt;1&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;.&lt;/span&gt;&lt;span class='mi'&gt;10&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;num&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; &lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;This is sentence number &lt;/span&gt;&lt;span class='si'&gt;#{&lt;/span&gt;&lt;span class='n'&gt;num&lt;/span&gt;&lt;span class='si'&gt;}&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;

&lt;span class='c1'&gt;# Bonus: Write a program that picks a random number. Let a player guess the&lt;/span&gt;
&lt;span class='c1'&gt;# number, telling the player whether the guess is too low or too high.&lt;/span&gt;
&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='se'&gt;\n&lt;/span&gt;&lt;span class='s2'&gt;Bonus:&amp;quot;&lt;/span&gt;

&lt;span class='n'&gt;random_number&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;rand&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='mi'&gt;1000&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='mi'&gt;1&lt;/span&gt;
&lt;span class='n'&gt;guess&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='mi'&gt;0&lt;/span&gt;

&lt;span class='k'&gt;while&lt;/span&gt; &lt;span class='n'&gt;guess&lt;/span&gt; &lt;span class='o'&gt;!=&lt;/span&gt; &lt;span class='n'&gt;random_number&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt;
    &lt;span class='nb'&gt;print&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Pick a number between 1 and 1000: &amp;quot;&lt;/span&gt;
    &lt;span class='n'&gt;guess&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;gets&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;to_i&lt;/span&gt;
    &lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Too low!&amp;quot;&lt;/span&gt; &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='n'&gt;guess&lt;/span&gt; &lt;span class='o'&gt;&amp;lt;&lt;/span&gt; &lt;span class='n'&gt;random_number&lt;/span&gt;
    &lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Too high!&amp;quot;&lt;/span&gt; &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='n'&gt;guess&lt;/span&gt; &lt;span class='o'&gt;&amp;gt;&lt;/span&gt; &lt;span class='n'&gt;random_number&lt;/span&gt;
&lt;span class='k'&gt;end&lt;/span&gt;

&lt;span class='nb'&gt;puts&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;Got it! It was &lt;/span&gt;&lt;span class='si'&gt;#{&lt;/span&gt;&lt;span class='n'&gt;random_number&lt;/span&gt;&lt;span class='si'&gt;}&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;And the output:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;&lt;span class='nv'&gt;$ &lt;/span&gt;ruby day1.rb

Find:

1.
BATMAN

Do:

1.
Hello World

2.
nil
7

3.
Nick Nick Nick Nick Nick Nick Nick Nick Nick Nick 

4.
This is sentence number 1
This is sentence number 2
This is sentence number 3
This is sentence number 4
This is sentence number 5
This is sentence number 6
This is sentence number 7
This is sentence number 8
This is sentence number 9
This is sentence number 10

Bonus:
Pick a number between 1 and 1000: 500
Too high!
Pick a number between 1 and 1000: 250
Too high!
Pick a number between 1 and 1000: 125
Too low!
Pick a number between 1 and 1000: 192
Too high!
Pick a number between 1 and 1000: 158
Too high!
Pick a number between 1 and 1000: 141
Too high!
Pick a number between 1 and 1000: 133
Too high!
Pick a number between 1 and 1000: 129
Got it! It was 129
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Next in this series: &lt;a href='/blog/2011/12/04/seven-languages-week-1-day-2/'&gt;Day 2 of Ruby&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Categorized Weaknesses from the State of Haskell 2011 Survey</title>
   <link href="http://nickknowlson.com/blog/2011/09/12/haskell-survey-categorized-weaknesses/"/>
   <updated>2011-09-12T00:00:00-07:00</updated>
   <id>http://nickknowlson.com/blog/2011/09/12/haskell-survey-categorized-weaknesses</id>
   <content type="html">&lt;p&gt;After reading about the results of the &lt;a href='http://blog.johantibell.com/2011/08/results-from-state-of-haskell-2011.html'&gt;State of Haskell, 2011 Survey&lt;/a&gt;, I was curious about the free-form feedback given in response to &amp;#8220;What do you think is Haskell&amp;#8217;s most glaring weakness / blind spot / problem?&amp;#8221;.&lt;/p&gt;

&lt;p&gt;So I got the raw results and started reading through and categorizing them as I went. I didn&amp;#8217;t intend to do the whole thing when I started &amp;#8211; there are a LOT of answers &amp;#8211; but over a few days I finished it off.&lt;/p&gt;

&lt;p&gt;As I read each one I decided whether it would fit into an existing category or whether it deserved a new one. If one person gave multiple weaknesses I split them up and put each where it belonged. A couple of times one issue really seemed to fit in two categories, so I put it in each of them, but I tried to minimize the amount of times this happened.&lt;/p&gt;

&lt;p&gt;It&amp;#8217;s currently in &lt;a href='https://docs.google.com/spreadsheet/ccc?key=0Aq8X8wb4SdlWdG1XM3NoLXhnWl9VR3d6OURYMTA2ZXc&amp;amp;hl=en_US'&gt;a spreadsheet on Google Docs&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you read through it carefully enough you almost definitely will see feedback in one category that should have been in another. There &lt;em&gt;WILL BE&lt;/em&gt; mistakes. There were a lot of responses and with continually evolving categories it is easy to mix some up. Feel free to let me know if you see any errors and I&amp;#8217;ll update it.&lt;/p&gt;

&lt;h2 id='so_what_were_the_results'&gt;So what &lt;strong&gt;were&lt;/strong&gt; the results?&lt;/h2&gt;

&lt;p&gt;Here&amp;#8217;s an overview of roughly how many people thought there was a problem in each category:&lt;/p&gt;

&lt;p&gt;&lt;img src='/img/state_of_haskell_2011_weakness.png' alt='Weaknesses from State of Haskell Bar Graph' /&gt;&lt;/p&gt;

&lt;p&gt;It is probably important to note that I didn&amp;#8217;t attempt to verify the accuracy of any of the claims, so this graph represents the public &lt;strong&gt;perception&lt;/strong&gt; of where the problems are, not necessarily where the problems actually are. It is still very important information though, and likely does match up very closely with where the problems are.&lt;/p&gt;
&lt;h3&gt;Libraries, Documentation, Hackage and Cabal&lt;/h3&gt;
&lt;p&gt;The category for libraries absolutely overwhelmed the rest. I ended up splitting it into three: Libraries / Packages, Documentation / Library Documentation, Cabal, and Hackage. The feedback in the general &amp;#8216;Libraries / Packages&amp;#8217; category ranged from requests for specific kinds of libraries to pointing out dependency problems to problems with library stability and maturity. Here&amp;#8217;s a few samples:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Most libraries are not ready for production use because they &lt;br /&gt;a) are incomplete (wrt. to conformance to specifications like XML / XML InfoSet)&lt;br /&gt;b) have unacceptable performance for non-toy use (i.e. use strings, too many allocations, etc)&lt;br /&gt;c) too often change APIs or don&amp;#8217;t have a stable maintained version along with an unstable development version&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Competing and incomplete libraries.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;I&amp;#8217;ve had problems with borking my packages when installing a new one. New req gets pulled in and causes global/user level dependency problems. If I didn&amp;#8217;t already know how to fix it, there&amp;#8217;s a good chance I&amp;#8217;d give up.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;A few responses in the &lt;strong&gt;Library Documentation&lt;/strong&gt; category walk a fine line between it and the &amp;#8216;hard to learn&amp;#8217; one, but enough people targeted library docs specifically that I broke it off into its own. Aside from the general statements of &amp;#8220;not enough, and what is there is largely not good&amp;#8221;, something specific that was repeatedly asked for was &lt;em&gt;more examples&lt;/em&gt;. There was some great feedback in this section:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;A lot of libraries seem to rely on only having &amp;#8220;reference&amp;#8221; documentation, that is an index of every function. This is not enough: More documentation should be written geared towards use of the library. Index and reference is good for hacking the library or doing weird stuff, but when developing, I just want to grab the library and start using it in the way the developer intended.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;By far the biggest problem is the lack of a &amp;#8220;middle ground&amp;#8221; in documentation. There is ample beginner/tutorial documentation, and extensive &amp;#8220;academic expert&amp;#8221; documentation (proofs, discussions of mathematical properties of zippers, etc). However, there is very little &amp;#8220;application writing&amp;#8221; documentation. The problem crops up most often with libraries. Often a library that does something very useful has no non-trivial examples included, and no discussion or tutorial of how to actually put it to use. The library&amp;#8217;s API functions are often described in terms of their mathematical properties rather than what you would use them for in a &amp;#8220;real&amp;#8221; program.&lt;/p&gt;

&lt;p&gt;A few libraries I&amp;#8217;ve suffered this with include fclabels, data-accessor, fgl, and especially haxml. All of these are practically indispensable for writing applications, but have almost no application-oriented documentation. Haxml was a particularly sad case; I had to give up trying to understand it entirely due to the lack of useful documentation.&lt;/p&gt;

&lt;p&gt;This type of documentation may seem to &amp;#8220;fall out&amp;#8221; from a mathematically-oriented understanding of the library (such as haxml&amp;#8217;s combinator scheme, or the concept of &amp;#8220;lenses&amp;#8221; in fclabels), but an application programmer does not have time to work through proofs of lens properties and then figure out what they might be good for in a program. Instead, the application programmer needs cookbook-style documentation to get something up and running, and then s/he can come to understand and make use of the underlying math.&lt;/p&gt;

&lt;p&gt;One of the few libraries that does this right is Parsec. fclabels at least had a reasonable toy example, but data-accessor fails epically in this regard.&lt;/p&gt;

&lt;p&gt;If application programmers could &amp;#8220;get their programs started&amp;#8221; more easily, without having to burn so much time wading through math-oriented documentation, I believe Haskell would be more widely adopted. The existence of math-oriented documentation is a very good thing, and is quite helpful when you need to know about those properties, but such documentation is not sufficient for bootstrapping an application.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;What a great, detailed response.&lt;/p&gt;

&lt;p&gt;The &lt;strong&gt;Hackage&lt;/strong&gt; responses had a clear central theme of &amp;#8216;we need a way to gauge the quality and popularity of packages&amp;#8217;. People really want a way to find out how many other people are using a library, and to see what the general opinion of it is.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;It is still not always easy to know what the &amp;#8220;canonical&amp;#8221; library for a given task is, although one often exists. Hackage feels too crowded at times.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Hackage is a mess, it&amp;#8217;s very difficult to find libraries, it&amp;#8217;s very difficult to know which libraries are well designed for which tasks and there are no links between libraries that are similar. There are no statistics to know which libraries are widely used and no voting system. Old libraries that no longer work are sill in Hackage and it is not possible to filter them out. Package groups like yesod are a mess on Hackage, some packages are up to date, others are old, others have been folded into larger packages and will cause errors if you try to build them.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The feedback that mentioned &lt;strong&gt;Cabal&lt;/strong&gt; specifically was complaining about how cabal handles dependency problems and versioning. Notably, one person wrote in to champion cabal-dev as the solution to the exact problems everyone else is having:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;This isn&amp;#8217;t a weakness exactly. In fact, having found cabal-dev, I find it is rather a strength. I would like to see more &amp;#8220;official&amp;#8221; development done with it, and would like to see it become a part of the Haskell Platform.&lt;/p&gt;

&lt;p&gt;Without cabal-dev, the &amp;#8220;likelihood that a library will build on my machine&amp;#8221; would be very low (a 1). With it, it jumps to 5. I put in a 4, to indicate that it is a solved problem, IF one has the right tools installed. Also, I have built up a lot of bash scripts to streamline my cabal-dev workflow.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;There is a great post on the Haskell reddit where &lt;a href='http://www.reddit.com/r/haskell/comments/f3ykj/psa_use_cabaldev_to_solve_dependency_problems/'&gt;jmillikin goes into detail&lt;/a&gt; about how and why cabal-dev can help with dependency hell. I am getting the impression that the real problem with cabal is just that more people need to be aware of cabal-dev!&lt;/p&gt;
&lt;h3&gt;Tools and Performance&lt;/h3&gt;
&lt;p&gt;The next largest group of responses centered around the tools available. In this category I included everything from IDEs like Leksah, to requests for better debugging and profiling tools. Very closely linked to the Tools category was Performance; most responses in that category were saying that it was difficult to &lt;em&gt;reason&lt;/em&gt; about performance. That performance was not typically poor, just that it was unpredictable. This problem can be alleviated by having better tools.&lt;/p&gt;

&lt;p&gt;The feedback that mentioned &lt;strong&gt;tools&lt;/strong&gt; targeted a bunch of different things. These were the most commonly mentioned:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;IDE support (mostly: Leksah is good but could be better)&lt;/li&gt;

&lt;li&gt;Space leak analysis tools&lt;/li&gt;

&lt;li&gt;Hard to analyze statically&lt;/li&gt;

&lt;li&gt;Refactoring&lt;/li&gt;

&lt;li&gt;Debugging&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Some people give very specific examples, it is worth looking through these responses to hear them describe it themselves. Here are a couple samples:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Reasoning about strictness is often difficult, but even finding simple problems like circular computations that trigger &amp;#171;loop&amp;#187; exceptions in the runtime system and similar exceptions are hard to trace to a particular source. +RTS -xc -RTS helps, but is often not very precise. Debugging tools to make this easier would be the most useful improvement for me (or a more robust GHCi that won&amp;#8217;t choke on unusual projects).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;My major concerns are with runtime analysis. I find it difficult to get the stack when the head of an empty list is requested or to infer by profiling which part of a program is retaining memory which should be freed.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Lack of a decent IDE. Leksah is the closest yet, but if you compare Haskell to other languages with good commercial penetration, it&amp;#8217;s a glaring omission. The IDE should be cross-platform and offer a single integration point for all Haskell&amp;#8217;s development tools, which I hope will continue to improve.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Almost everyone giving &lt;strong&gt;performance&lt;/strong&gt; feedback was echoing the same sentiments:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;hard to reason about performance,&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;hard to reason about space usage&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;As noted and clearly in the mind of this survey&amp;#8217;s author, reasoning about space and time is the single most tricky thing when programming in a lazy FL. I can wax lyrical as much as anyone else about the representational benefits of Haskell and indeed all the robust compile-time type checking, but runtime performance &lt;em&gt;can&lt;/em&gt; be the thorn in the flesh.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Space leaks/how often we have to deal with them, and how difficult it can be to figure out where they are in large applications.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Learning / Teaching, Mainstream Usage, and Culture&lt;/h3&gt;
&lt;p&gt;This group is all about the barrier to entry that there is when trying to learn Haskell.&lt;/p&gt;

&lt;p&gt;Feedback in the &lt;strong&gt;Learning / Teaching&lt;/strong&gt; category says that it is just a difficult language to learn, full of concepts that you don&amp;#8217;t normally get exposure to in other languages. Some people also say that there could be better materials available to help people that are learning. Amusingly, one person complained that there were not enough monad tutorials.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Height of the learning curve. To write useful code, many concepts must be understood (laziness, functional programming, declarative vs imperative code, monads, monad transformers, applicative functors) which takes a lot of time.&lt;/p&gt;

&lt;p&gt;This makes writing Haskell code at work hard, since nobody will be able to understand it.&lt;/p&gt;

&lt;p&gt;Avoid success at all costs though, right? We wouldn&amp;#8217;t want a community like the Ruby one.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Availability of instruction to go from beginner to intermediate&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;The Haskell &amp;#8220;way&amp;#8221; of doing things is so different, it&amp;#8217;s a lot of effort to adapt. That said there&amp;#8217;s not really a way round it I don&amp;#8217;t think. Things like LYAH and RWH help too.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;There was more feedback about how &lt;strong&gt;mainstream&lt;/strong&gt; Haskell is (or isn&amp;#8217;t) than I would have guessed. Half the responses just leave it at &amp;#8220;not enough people using it&amp;#8221;, the rest pinpoint specific problems or offer some solutions. Notably, one person disagrees with almost everyone who thought that Performance was a serious problem for Haskell.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Bad public image due to FUD, such as &amp;#8221;&amp;#8221;It is hard to reason about performance and space usage of Haskell programs&amp;#8221;&amp;#8221; (not any harder in practice than for other mainstream languages given the same level of skill and experience, which is usually not the case for people who complain), &amp;#8221;&amp;#8221;Haskell is not suitable for enterprise commercial development&amp;#8221;&amp;#8221; (that&amp;#8217;s what I do for a living now and it&amp;#8217;s great; how hard have the people who complain tried to build a Haskell career?), etc. The problem with this kind of &amp;#8221;&amp;#8221;survey&amp;#8221;&amp;#8221; is that it tends to reinforce that kind of FUD. But it&amp;#8217;s good to look for ways to improve; I just hope you&amp;#8217;ll try to remove some of that bias in the tone of your results. Thanks for this great survey!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Lack of backing in time and resources to take the language and turn it into a professional grade platform. The community has put in an incredible amount of effort, and it shows. But it just doesn&amp;#8217;t have anywhere near the polish of commercially backed platforms such as Java or C++. This is very disappointing since the language itself and a lot of the libraries on Hackage are so incredible.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;The reputation as an &amp;#8220;academic&amp;#8221; language you can&amp;#8217;t do &amp;#8220;real world&amp;#8221; development in is still out there and hurts adaption.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The &lt;strong&gt;Culture&lt;/strong&gt; group is pretty small and has a lot of overlap with the above two. It maybe actually should have been merged into one or the other, looking back at it now. Really what is emphasized though, is that Haskell still very much has an academic culture, and that can make it harder for people to pick it up.&lt;/p&gt;

&lt;p&gt;Darrin Thompson made a blog post with a good explanation of why the academic culture can make things more difficult and linked to it in the response box. I&amp;#8217;ll include a tantalizing quote, but you really should &lt;a href='http://willowbend.cx/2011/07/22/whats-wrong-with-learning-haskell/'&gt;go read the rest of it&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;#8230;&lt;br /&gt;I think especially early on that I could have had an easier time. Some mechanism to steer me away from some Haskell resources would have helped. I’m not sure what that mechanism might have looked like, so I handwave over the details here. Perhaps you formalists know handwaving over the details as the “Axiom of Choice,” no? I hearby invoke it.&lt;/p&gt;

&lt;p&gt;For instance, (Or in formal terms, Example 1.1) I tried to get in tune with the current practice of Haskell by lurking on Haskell-Cafe. It worked when I was learning Ruby. Not here. This was a bad idea. I learned nothing and it made me feel bad. Yeah, poor me.&lt;/p&gt;

&lt;p&gt;Another time (Example 1.2) I tried to read the Comonad Reader blog. Another bad idea.&lt;/p&gt;

&lt;p&gt;As a relative Haskell newbie, whose not-Haskell day job is web development, integrating systems, build engineering, tormenting managers, and sometimes just writing a lot shell scripts, Haskell-Cafe and the Comonad Reader are, and this important, don’t miss this: not &lt;em&gt;for&lt;/em&gt; me.&lt;br /&gt;&amp;#8230;&lt;/p&gt;

&lt;p&gt;&lt;a href='http://willowbend.cx/2011/07/22/whats-wrong-with-learning-haskell/'&gt;&amp;#91;source&amp;#93;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I didn&amp;#8217;t get the impression anyone was trying to target this as a &lt;em&gt;negative&lt;/em&gt; thing, just point out that it does have its tradeoffs.&lt;/p&gt;
&lt;h3&gt;GUI and Support For Other Platforms&lt;/h3&gt;
&lt;p&gt;These two categories also blend together a bit. I think of the GUI responses as just a kind of special case of the Platform Support responses.&lt;/p&gt;

&lt;p&gt;People &lt;em&gt;really&lt;/em&gt; want an easy, good cross-platform &lt;strong&gt;GUI&lt;/strong&gt; toolkit to use with Haskell (as well as better platform-specific solutions).&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Easy and stable out-of-box cross-platform GUI,&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;There still does not exist an obvious GUI solution for OS X, or an obvious audio solution that does not require the writing of a great deal of &amp;#8220;boilerplate&amp;#8221; code.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Haskell doesn&amp;#8217;t have a great GUI story. I think I&amp;#8217;m allowed to say this as I maintain wxHaskell, and it&amp;#8217;s not where I would like it to be.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In the more general case of &lt;strong&gt;Platform Support&lt;/strong&gt; responses, there were a fair amount of people saying getting programs to run on Windows was pretty difficult. Some people mentioned a problem with OS X Snow Leopard as well.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;If the goal is for Haskell to be more widely adopted, I think a number of integration details are important. Things like a stable ABI, bindings to more OS-specific services (such as Mac and Windows GUI systems), and even things like smaller compiled executables would probably make Haskell more attractive in production environments.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Working with foreign libraries on a non-unix system (microsoft windows) is a pain. The build system could definitely need some improvements in that area.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Language and Laziness&lt;/h3&gt;
&lt;p&gt;The feedback on the &lt;strong&gt;language&lt;/strong&gt; itself is going to be harder for me to sum up. There are a few obvious trends (no parameterized modules, module system, stack traces, record syntax), and then there&amp;#8217;s a lot of detailed feedback that I can&amp;#8217;t understand. :) I&amp;#8217;ll try to pick out a couple of replies that looked especially well-thought out.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Too many string-like types. Abstraction over them that would provide stable and practical API would be nice. Change String from type to class?&lt;/p&gt;

&lt;p&gt;I&amp;#8217;d really like to see Functor (=&amp;gt; Pointed) =&amp;gt; Applicative =&amp;gt; Monad one day.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Then, of course, the big HList elephant. It gives much needed expressivity and generalisation to everything having to do with records, and having appropriate type-level programming capabilities to write an easy to use and extend HList library would be awesome. The current state is almost as bad as C++ templates.&amp;#8221;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Some of the cruft from ancient history, such as Monad not being a subclass of Pointed, Monad having “fail” and pure Prelude functions using exceptions would be nice to get fixed. Not that any of that is really a problem, just a wart.&lt;/p&gt;

&lt;p&gt;It would be nice to have a sufficiently powerful macro/metaprogramming system that is considerably nicer than TH (to the programmer who has to implement the generation of the AST).&lt;/p&gt;

&lt;p&gt;(Haskell is also missing PHP’s excellent Magic Quotes functionality.)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I like that last person&amp;#8217;s sense of humour.&lt;/p&gt;

&lt;p&gt;I&amp;#8217;d like to also link to a very relevant Yesod blog post: &lt;a href='http://www.yesodweb.com/blog/2011/09/limitations-of-haskell'&gt;&amp;#8220;The Limitations of Haskell&amp;#8221;&lt;/a&gt; by Greg Weber. He brings the perspective of an expert Haskell-user solving practical problems, and writes clearly about it to boot. He singles out error messages, stack traces, code reloading (not mentioned by a single survey respondent as far as I can remember), dependency hell, and the record syntax issue.&lt;/p&gt;

&lt;p&gt;The stack traces issue may actually be resolved &lt;a href='https://plus.google.com/u/0/107890464054636586545/posts/XE4T6hHm3tK'&gt;sometime in the near future&lt;/a&gt;, from the sound of it.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Laziness&lt;/strong&gt; by default was such a common item of contention (almost equaling the rest of the language feedback combined!) that I split it out into its own category. A lot of the remarks in this one are very terse (e.g. &amp;#8216;laziness&amp;#8217; or &amp;#8216;being lazy by default&amp;#8217;). Here&amp;#8217;s one person that expanded on their thoughts a bit:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;- lazy evaluation incompatible with strong analysis of algorithms&lt;/p&gt;

&lt;p&gt;- lazy evaluation and parallel computing seem to be at odds in GHC. Robert Harper has commented on that.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;And here&amp;#8217;s a counterpoint by another respondent:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The community seems to largely believe that laziness is a weakness, when in fact it is very substantially important to getting both good performance and good compositionality.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In any case, since Haskell is partially a long-term experiment to see how well being lazy by default works out, I don&amp;#8217;t see this changing any time soon.&lt;/p&gt;
&lt;h3&gt;Stability and GHC&lt;/h3&gt;
&lt;p&gt;A lot of people expressed concerns about having no serious alternatives to GHC. The downsides most cited are over-dependence on GHC-specific features, and that few people are sticking to the Haskell 98 or 2010 standards. There is also some concern about how frequently GHC makes breaking changes, preventing old libraries from building on a newer version.&lt;/p&gt;

&lt;p&gt;This first person summarizes very well the feedback involving &lt;strong&gt;stability&lt;/strong&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;API/language stability!&lt;/p&gt;

&lt;p&gt;When I come back to code I wrote back in 2009 and try to compile with current Haskell platform, new libraries cabal installs have different APIs, old version of libraries won&amp;#8217;t compile on current platform. This is very different to my experience with java/python, and makes it hard to conceive of putting Haskell into production products.&lt;/p&gt;

&lt;p&gt;Somewhat unusually, Haskell does have a good language definition, but it&amp;#8217;s almost useless since the vast majority of useful packages depend on non-standardised extensions. Haskell&amp;#8217; needs enough features that the majority of Hackage can be built within the standard language so that it&amp;#8217;s feasible to code real world applications against a standard with long term support.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;GHC is absolutely great but it would be good to have some serious alternative&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Even though Haskell is standardized, the old code seems to be breaking quite often! Either the API of the base libraries is changed, or GHC behaves differently, or cabal stops working. Sure, all languages have that phase in the beginning, but I think Haskell should be past that by now. I wish the Haskell ecosystem could be a bit more stable while still making progress.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Some also had criticisms specific to &lt;strong&gt;GHC&lt;/strong&gt;, mostly mentioning its error messages and stability.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;(not Haskell per se, but &amp;#8230;) ghc minor version changes breaking (hackage) libraries&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Static type compiler errors, when behaviour is not as expected. Compiler diagnostic messages could be much more helpful. The user should not have to reverse engineer GHC and/or wade through weeks of sprawling academic reading material to discover what is going on.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;One person had license concerns:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;LGPL. ghc cannot be used for developing commercial software products out of the box. Many Hackage libraries that are not LGPL are still infected by it indirectly due to library dependencies.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I would actually love it if someone could go into more detail on this. I know GHC itself uses a BSD-like license. Is this person maybe referring to &lt;a href='http://www.well-typed.com/blog/32'&gt;the GMP issue&lt;/a&gt;?&lt;/p&gt;
&lt;h3&gt;Other Backends, FFI, Integration&lt;/h3&gt;
&lt;p&gt;These three categories are all about how well Haskell plays with other languages.&lt;/p&gt;

&lt;p&gt;I was actually pretty shocked to discover how many people thought Haskell&amp;#8217;s most glaring weakness was not being able to &lt;strong&gt;run on the CLR or JVM&lt;/strong&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;CLR/JVM/JavaScript backends&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Another problem for adopting Haskell at work would be that it doesn&amp;#8217;t run on JVM/CLR. So there is no option for polyglotting&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Fortunately, there are a couple a like-minded people working on mitigating this issue right now with &lt;a href='http://code.google.com/p/frege/'&gt;Frege&lt;/a&gt; (&lt;a href='http://www.reddit.com/r/haskell/comments/kadx6/frege_haskell_like_language_on_jvm_tries_to/'&gt;discussion&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;There were also some less ambitious requests for a better &lt;strong&gt;FFI&lt;/strong&gt; to C++, Objective-C and Python.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Difficulty of integration with C++ (not C). Ability to import C++ headers directly and call C++ methods without inventing wrapper layers would help immensely here at Google.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Can&amp;#8217;t communicate with scripting languages like Python (actually possible but painful).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;There were 4 responses that I ended up putting under a general &lt;strong&gt;Integration&lt;/strong&gt; category. Three were (kind of vague) requests for more integration with mainstream OOP environments, but one person had a more detailed request:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Integration with other build systems. Pretending that cabal is the only true thing is only that, pretending. Until integration with at least auto tools is better, Haskell project will be standalone and integration Haskell into a bigger system will be painful (one has to duplicate cabal&amp;#8217;s work in detecting libraries, library version, etc.).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Distribution and Deployment&lt;/h3&gt;
&lt;p&gt;There was only a little bit of feedback that fit into this category, but there seemed to be some pretty good points.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;We&amp;#8217;re not looking at easy distribution in a serious way yet.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Distribution of Haskell programs to others is still hard: at best I can tell them to get the platform, run a bunch of cabal commands, then build my program.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Doesn't Improve Productivity&lt;/h3&gt;
&lt;p&gt;I&amp;#8217;m not sure what to say about this category. I don&amp;#8217;t think I&amp;#8217;ve heard of someone having this experience with Haskell before. I&amp;#8217;m glad it doesn&amp;#8217;t seem to be a widespread occurrence (although I will concede the survey audience is probably &lt;em&gt;just a little bit&lt;/em&gt; biased).&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Although the purity and strong-type-system sound all well and good, I&amp;#8217;m not actually convinced yet that Haskell improves productivity. Perhaps I&amp;#8217;m not &amp;#8220;doing it right&amp;#8221;, but even after 8 months I generally write code and think, &amp;#8220;I could have slogged through that faster in C++.&amp;#8221; And at least then I could have used it at work without fear of being &amp;#8216;that guy&amp;#8217;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id='responses_i_couldnt_fit_in_a_category'&gt;Responses I Couldn&amp;#8217;t Fit In A Category&lt;/h2&gt;

&lt;p&gt;These were the responses that either mystified me, covered too many topics to split apart and remain coherent, or were just too well written for me to be able to break them up.&lt;/p&gt;

&lt;p&gt;This first one was definitely one of the former!&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;confusion with Pascal!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&amp;#8230;And now on to a few responses that I thought really deserved a highlight.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Although it is generally regarded a good thing to have diversification, there are two items where I&amp;#8217;d like appreciate an authoritatively dictated choice:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;) The non-unified (esp. among libraries) Error/Exception handling, as well as&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;) the record-update problem (there are the lenses/fclabels/etc packages, but again, this is a non-unified approach, and it feels clumsy to have to use underscores to mark fields &amp;#8211; I&amp;#8217;d prefer a GHC language extension)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;These are &lt;em&gt;the&lt;/em&gt; two things (among a few other minor issues) that I dislike the most&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;2) Lack of support for dev environments &amp;#8211; coming from Python where it&amp;#8217;s extremely easy and beneficial to build a virtualenv or sandbox environment, using cabal-dev requires a lot more work. And when you&amp;#8217;re trying to use it with packages like Yesod that rely on your main cabal folder or global variables, it either doesn&amp;#8217;t work or requires a lot of tweaking. I&amp;#8217;d love to see a better way to build supported virtual Haskell environments to cut down on the headaches of managing multiple dependencies and different versions of packages&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Even after 20 years we are still struggling with some basic concepts and their implementation in Haskell. A good example is iteratees: the idea is rather new, the problem that it solves is one of the most basic ones, and there are several competing implementations, so it&amp;#8217;s not clear what should one use.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;And with that, I&amp;#8217;ve finally reached the end of this in-depth look at the feedback on Haskell&amp;#8217;s most glaring weakness!&lt;/p&gt;

&lt;h2 id='raw_data'&gt;Raw Data&lt;/h2&gt;

&lt;p&gt;My list that is split up by categories is currently in a &lt;a href='https://docs.google.com/spreadsheet/ccc?key=0Aq8X8wb4SdlWdG1XM3NoLXhnWl9VR3d6OURYMTA2ZXc&amp;amp;hl=en_US'&gt;spreadsheet on Google Docs&lt;/a&gt;. From there you have a bunch of different formats available download or export it in.&lt;/p&gt;

&lt;h2 id='summary'&gt;Summary&lt;/h2&gt;
&lt;h3&gt;First Place: Libraries&lt;/h3&gt;
&lt;p&gt;By far the largest amount of people think Haskell&amp;#8217;s most glaring weakness is related to its libraries and the ecosystem around them. Specifically:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Quality of libraries is inconsistent, and we are missing some specific kinds of libraries&lt;/li&gt;

&lt;li&gt;Both the quality and amount of library documentation are lacking (needs more examples!)&lt;/li&gt;

&lt;li&gt;Hackage needs to include a way for people to gauge package quality and popularity&lt;/li&gt;

&lt;li&gt;More people need to know about cabal-dev (also cabal and cabel-dev could possibly use some improvements)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Second Place: Tools&lt;/h3&gt;
&lt;p&gt;There seems to be a lot of room for improvement in Haskell&amp;#8217;s toolchain as well. Some specific kinds of tools that were mentioned often were:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;IDE support (mostly: Leksah is good but could be better)&lt;/li&gt;

&lt;li&gt;Space leak analysis tools&lt;/li&gt;

&lt;li&gt;Hard to analyze statically&lt;/li&gt;

&lt;li&gt;Refactoring&lt;/li&gt;

&lt;li&gt;Debugging&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Having good tools for time and space leak analysis will also help to address all the concerns raised about performance.&lt;/p&gt;
&lt;h3&gt;Third Place: Barrier to Entry&lt;/h3&gt;
&lt;p&gt;There are several different parts to the barrier to entry. I can pick out the following common threads from the feedback available:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The inherent difficulty of the language&lt;/li&gt;

&lt;li&gt;Gaps in instructional material between beginner and intermediate. More material that emphasizes being friendly and practical would help.&lt;/li&gt;

&lt;li&gt;Reputation as difficult, academic, and hard to reason about performance&lt;/li&gt;

&lt;li&gt;Academic culture&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I want to reiterate &amp;#8212; these are not all &amp;#8216;problems that should be fixed&amp;#8217;. Haskell would not be what it is without the academic culture and the powerful language, for example. But, both of these have tradeoffs that should be acknowledged, and maybe rendered less important by improving the areas that &lt;strong&gt;do&lt;/strong&gt; need it.&lt;/p&gt;
&lt;h3&gt;Honourable Mentions: Cross-platform support and Language&lt;/h3&gt;
&lt;p&gt;I also want to shine the spotlight on at least two more areas. There were a lot of people that wanted better cross platform support, of which the majority were most concerned with GUI support. The cross-platform feedback generally fell into two areas:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The ability to easily write a simple cross-platform application&lt;/li&gt;

&lt;li&gt;The ability to better integrate with OS-specific libraries for a better experience&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There weren&amp;#8217;t as many people with feedback on the language itself, but there was some good targeted feedback that I don&amp;#8217;t think should be overlooked. I highlighted a couple of more detailed replies in the main section of this above, but the general trend looked like:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Haskell is lazy by default&lt;/li&gt;

&lt;li&gt;Lack of parameterized modules&lt;/li&gt;

&lt;li&gt;Module system needs improvement in general&lt;/li&gt;

&lt;li&gt;Lack of stack traces&lt;/li&gt;

&lt;li&gt;Record syntax needs work&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And that&amp;#8217;s it! Please feel free share your own thoughts on this or point out any errors I&amp;#8217;ve made. I&amp;#8217;d like to thank &lt;a href='http://blog.johantibell.com/'&gt;Johan Tibell&lt;/a&gt; for running the &lt;a href='http://blog.johantibell.com/2011/08/results-from-state-of-haskell-2011.html'&gt;State of Haskell 2011 Survey&lt;/a&gt;; all the respondents for providing this useful feedback; and you, dear reader, for getting this far!&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Hello World!</title>
   <link href="http://nickknowlson.com/blog/2011/07/23/hello-world/"/>
   <updated>2011-07-23T00:00:00-07:00</updated>
   <id>http://nickknowlson.com/blog/2011/07/23/hello-world</id>
   <content type="html">&lt;p&gt;This site is finally live! I have put a skeleton of content up here for now just so I can get it up, but over the coming months I&amp;#8217;ll be updating my Project pages with more detail as well as screenshots. I&amp;#8217;ll also put up the occasional blog post from time to time, and these will lean towards longer, more technical posts.&lt;/p&gt;

&lt;p&gt;I meant the logo up above to be temporary, but it is kind of growing on me, so it may stay for a while.&lt;/p&gt;

&lt;p&gt;The css and javascript are a bit clunky at the moment as well, but they work well enough for the moment, and there will be lots of time to optimize the heck out of them in the future.&lt;/p&gt;

&lt;p&gt;That&amp;#8217;s about all for the introductory post, the next one will probably be about something more interesting!&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Command line file transfer</title>
   <link href="http://nickknowlson.com/blog/2009/02/05/command-line-file-transfer/"/>
   <updated>2009-02-05T00:00:00-08:00</updated>
   <id>http://nickknowlson.com/blog/2009/02/05/command-line-file-transfer</id>
   <content type="html">&lt;p&gt;(&lt;strong&gt;**Old post alert**&lt;/strong&gt; This is an old post I dug up from sometime around college)&lt;/p&gt;

&lt;p&gt;I&amp;#8217;ve gotten really used to using bash now, so it&amp;#8217;s always a drag when I want to upload a file using sftp and lose my aliases, tab completion and everything else from my .bashrc. It&amp;#8217;s also more of a pain to copy directories.&lt;/p&gt;

&lt;p&gt;I know there are a couple of replacements for the default sftp client, and up until now, I had only tried lftp briefly. It was better,but not quite what I was looking for, and I found a bit awkward to use. Although that part could just be my own inexperience with it.&lt;/p&gt;

&lt;p&gt;Anyway, I just stumbled upon a solution to my problem that is dead simple and ALSO lets me get all the power and ease of use my personalized bash environment. Double win! It&amp;#8217;s called &lt;a href='http://fuse.sourceforge.net/sshfs.html'&gt;sshfs&lt;/a&gt; (SSH FileSystem), it&amp;#8217;s in the Debian and Ubuntu package repos already, and I doubtless should have found it a long time ago. It lets you mount a directory on your remote machine using ssh. Magical!&lt;/p&gt;

&lt;p&gt;In case you need it, here&amp;#8217;s a quick runthrough of what you need to get this working:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;sudo aptitude install sshfs
sshfs user@host: localmountpoint
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;It defaults to your home directory as the point to mount, but if you want to you can specify a location after &amp;#8216;host:&amp;#8217; like so:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;sshfs user@host:/home/user/data/ localmountpoint
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;When you&amp;#8217;re done, you can unmount it with this command:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;fusermount -u localmountpoint
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;If it a location that you use frequently like me, you could put an alias in your .bash_aliases file so mounting is a single &amp;#8216;mount_server&amp;#8217; command, and unmounting is &amp;#8216;unmount_server&amp;#8217;. Now when I want to upload something it&amp;#8217;s as painless as using cp or mv!&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Haskell for great good</title>
   <link href="http://nickknowlson.com/blog/2009/01/14/haskell-for-great-good/"/>
   <updated>2009-01-14T00:00:00-08:00</updated>
   <id>http://nickknowlson.com/blog/2009/01/14/haskell-for-great-good</id>
   <content type="html">&lt;p&gt;(&lt;strong&gt;**Old post alert**&lt;/strong&gt; This is an old post I dug up from sometime around college)&lt;/p&gt;

&lt;p&gt;So I&amp;#8217;ve been doing bits of the &lt;a href='http://learnyouahaskell.com/'&gt;Learn You A Haskell For Great Good&lt;/a&gt; tutorial every now and then, and I just came across this &lt;a href='http://intoverflow.wordpress.com/2009/01/13/why-haskell-is-beyond-ready-for-prime-time/'&gt;blog post&lt;/a&gt; on Integer Overflow about why Haskell is &amp;#8220;ready for Prime Time&amp;#8221;.&lt;/p&gt;

&lt;p&gt;Now that I&amp;#8217;ve learned a bit about the basics, being told that I am able to search a repository of libraries by &lt;em&gt;type signature&lt;/em&gt; is really exciting. His example really drives it home even for those who don&amp;#8217;t know any Haskell.&lt;/p&gt;

&lt;p&gt;From the other things I&amp;#8217;ve read about Haskell in other articles (mostly that it will introduce you to new paradigms and &lt;em&gt;blow your mind&lt;/em&gt;) I am now more firmly committed than ever to do some kind of project in Haskell, just to see what it feels like.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Vim as an IDE</title>
   <link href="http://nickknowlson.com/blog/2008/12/16/vim-as-an-ide/"/>
   <updated>2008-12-16T00:00:00-08:00</updated>
   <id>http://nickknowlson.com/blog/2008/12/16/vim-as-an-ide</id>
   <content type="html">&lt;p&gt;(&lt;strong&gt;**Old post alert**&lt;/strong&gt; This is an old post I dug up from sometime around college)&lt;/p&gt;

&lt;p&gt;&lt;a href='http://i.imgur.com/8Yopn.png'&gt;Two&lt;/a&gt; &lt;a href='http://i.imgur.com/pZtNP.png'&gt;screenshots&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In my linux class last year, I was introduced to vim, and I&amp;#8217;ve been fairly impressed with its powerful text-editing capabilities. What I didn&amp;#8217;t know is that it really can just about replace an IDE.&lt;/p&gt;

&lt;p&gt;What features does an IDE have that make it more useful than most text editors?&lt;/p&gt;

&lt;p&gt;Group 1&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Being able to jump to the definition of a variable, function, class etc.&lt;/li&gt;

&lt;li&gt;Autocompletion of variables, functions, classes etc.&lt;/li&gt;

&lt;li&gt;Outline of a class, with variables and functions&lt;/li&gt;

&lt;li&gt;Project explorer&lt;/li&gt;

&lt;li&gt;Syntax highlighting&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Group 2&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Compile-time error checking&lt;/li&gt;

&lt;li&gt;Step by step debugger&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Group 3&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Refactoring across projects&lt;/li&gt;

&lt;li&gt;Automatic insertion of language specific code (ex: imports needed in Eclipse, generate getters and setters in java, files that Visual Studio makes when you use the visual editor, templates in Dreamweaver)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Okay, that&amp;#8217;s quite a bit. Vim can do the first group perfectly, can sort of do the second group ( depending on language), and can&amp;#8217;t do the last one. At least as far as I know, anyway.&lt;/p&gt;

&lt;p&gt;Just recently I&amp;#8217;ve been interested in editing php with vim, so here&amp;#8217;s a few things I found out:&lt;/p&gt;

&lt;p&gt;&lt;a href='http://weierophinney.net/matthew/archives/164-Vim-Productivity-Tips-for-PHP-Developers.html'&gt;PHP parser check and running current file with the CLI&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Add the following to your .vimrc:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;quot; run file with PHP CLI (F5)
autocmd FileType php noremap &amp;lt;F5&amp;gt; :w!&amp;lt;CR&amp;gt; :!$HOME/bin/php %&amp;lt;CR&amp;gt;

&amp;quot; PHP parser check (F4)
autocmd FileType php noremap &amp;lt;F4&amp;gt; :!usr/bin/php -l &amp;lt;CR&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I changed the mappings to the function keys because &amp;#60;c-m&amp;#62; corresponds to &amp;#60;return&amp;#62; as well, which I find annoying because I like to use CTRL+ movement keys for changing windows.&lt;/p&gt;

&lt;p&gt;&lt;a href='http://www.vim.org/scripts/script.php?script_id=69'&gt;Project&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Just like what it sounds like, it opens a side window that keeps track of all your folders and files in the project that you specify. Has lots of neat features, including a project-wide search and replace, which can be useful. I suggest adding this to your .vimrc to have a &amp;#8216;Project toggle&amp;#8217; rather than typing :Project each time:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;nmap &amp;lt;silent&amp;gt; &amp;lt;F10&amp;gt; &amp;lt;plug&amp;gt;ToggleProject&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Also, since by default folds have a hideous color scheme in my theme, I added this to my .vimrc to change that a bit.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hi Folded ctermbg=0 ctermfg=3
hi FoldColumn ctermbg=0 ctermfg=3&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once you&amp;#8217;ve got the Project plugin installed, \C while in the Project window is the command that you&amp;#8217;ll probably want to use to help set up your first project (this took me a while). Also, make sure to use the help file that comes with the script (:help project).&lt;/p&gt;

&lt;p&gt;&lt;a href='http://www.vim.org/scripts/script.php?script_id=273'&gt;Taglist&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This opens up a side window that shows a list of classes, variables and functions in all files that you have open at the time. I set a a taglist toggle in my .vimrc file with this line: nmap &amp;#60;silent&amp;#62; &amp;#60;f12&amp;#62; :TlistToggle&amp;#60;cr&amp;#62;&lt;/p&gt;

&lt;p&gt;In taglist.vim I changed a couple of the values so that it would look a bit better:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;let Tlist_Use_Right_Window = 1 &amp;quot;so that it doesn&amp;#39;t conflict with the project plugin
let Tlist_WinWidth = 25 &amp;quot;make it a bit slimmer
let Tlist_Enable_Fold_Column = 0 &amp;quot;Disable the fold column (it&amp;#39;s thick and not too useful for me)
let Tlist_Inc_Winwidth = 0 &amp;quot;Don&amp;#39;t attempt to resize my terminal - this may vary depending on how you are running vim&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href='http://weierophinney.net/matthew/archives/134-exuberant-ctags-with-PHP-in-Vim.html'&gt;Using ctags well&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This lets you jump around to the definition of functions, classes etc. Just follow his instructions.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Autocompletion&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&amp;#60;c-x&amp;#62; + &amp;#60;c-?&amp;#62; when in insert mode. You get a list of letters that can be used in place of ? when you press . Some notable ones are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;c-f&amp;gt;&lt;/code&gt; File - Autocompletes file names&lt;/li&gt;

&lt;li&gt;&lt;code&gt;&amp;lt;c-n&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;c-p&amp;gt;&lt;/code&gt; Forward, Back respectively&lt;/li&gt;

&lt;li&gt;&lt;code&gt;&amp;lt;c-i&amp;gt;&lt;/code&gt; Path - keywords in the current and included files&lt;/li&gt;

&lt;li&gt;&lt;code&gt;&amp;lt;c-o&amp;gt;&lt;/code&gt; Omni - Omni complete.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Many thanks and full credit to Matthew Weier O&amp;#8217;Phinney, whose &lt;a href='http://weierophinney.net/matthew/archives/164-Vim-Productivity-Tips-for-PHP-Developers.html'&gt;blog post&lt;/a&gt; started me on all of this and indeed is the source of many of these tips.&lt;/p&gt;

&lt;p&gt;I didn&amp;#8217;t cover debugging, I&amp;#8217;ll save it for a later post maybe. If you&amp;#8217;re interested, go ahead and &lt;a href='http://www.vim.org/scripts/script_search_results.php?keywords=debug&amp;amp;amp;script_type=&amp;amp;amp;order_by=downloads&amp;amp;amp;direction=descending&amp;amp;amp;search=search'&gt;search the scripts&lt;/a&gt; for yourself.&lt;/p&gt;

&lt;p&gt;Also, here&amp;#8217;s some &lt;a href='http://stackoverflow.com/questions/95072/what-are-your-favorite-vim-tricks'&gt;vim tips and tricks&lt;/a&gt;!&lt;/p&gt;</content>
 </entry>
 
 
</feed>
