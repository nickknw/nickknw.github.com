<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
    <head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
        <meta name="description" content="The latest blog posts by Nick Knowlson.">

        <title>Blog | Nick Knowlson</title>

        <link rel="stylesheet" type="text/css" href="/css/site.css" >
        <link rel="stylesheet" type="text/css" href="/css/syntax.css" >
	<link rel="shortcut icon" href="/favicon.ico" />
	<link rel="apple-touch-icon-precomposed" href="/favicon.ico" >
        <link href="http://feeds.feedburner.com/NickKnowlson" type="application/atom+xml" rel="alternate" title="Blog ATOM Feed" />
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" type="text/javascript"></script>

        
        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-24781362-1']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();

        </script>
    </head>
    <body>
	<div id="header" class="grid grid-16">
            <a href="/"><img src="/img/logos/logo6.png" alt="logo" /></a>
            <ul id="nav">
                <li><a class="" href="/">Home</a></li>
                <li><a class="" href="/about/">About</a></li>
                <li><a class="" href="/projects/">Projects</a></li>
                <li><a class="selected" href="/blog/">Blog</a></li>
                <li><a class="" href="/contact/">Contact</a></li>
            </ul>
	</div>

        <div id="content" class="grid grid-16" style="background-color:white; clear:both;">
            <div style="padding:25px">
                <div style="text-align:center;"><b>Latest Posts</b> | <a href="/blog/archive/">Archive</a></div>

  <div>
  <h1 style="margin:0px"><a href="/blog/2012/01/11/seven-languages-week-2-day-2/">
  Seven Languages In Seven Weeks: Week 2 (Io) - Day 2
  </a></h1>
  <div class="faded" style="font-size:14px; margin-bottom:5px;">11 Jan 2012</div>
  <p>Day 2 of Io was the most difficult (as well as the most fun) day yet. It took me quite a while to finish all the exercises to my satisfaction, and it also had the most interesting exercises so far. One in particular (transposing a matrix) was <a href='/blog/2011/12/30/transposing-a-matrix-in-io/'>my favorite.</a>.</p>
<div class='interjection'><p>
(This article is part of a series of posts I am doing about my journey through the exercises of the book <a href='http://pragprog.com/book/btlang/seven-languages-in-seven-weeks'>Seven Languages In Seven Weeks</a>. The article previous to this one is <a href='/blog/2011/12/30/seven-languages-week-2-day-1/'>Week 2 (Io) - Day 1</a>. For an overview see the <a href='/projects/seven-languages-in-seven-weeks/'>project page</a>.)
</p></div>
<h2 id='topics_covered'>Topics covered</h2>

<p>Day 2 of Io went over some basic topics (conditionals, loops and operators) as well as some more complex subjects (messages and reflection).</p>

<p>Messages are a fundamental part of Io - except for comments and commas, everything is a message. Once I began thinking like this, something clicked for me. I started to really grok the code examples, and thinking and coding in Io felt easier, more natural.</p>

<p>Io has simple, straightforward reflection: it actually isn&#8217;t a burden to use or read. Combined with Io&#8217;s other design decisions this gives you quite a lot of power. You get ultimate control over your code, and the power to do whatever you can think of with it - no restriction can stand in your way.</p>

<p>I wonder if this is how Lisp programmers have been feeling for decades.</p>

<h2 id='a_note_about_the_io_community'>A note about the Io community</h2>

<p>While trying to find a way to write a short solution to #5, I ran across what turned out to be a bug in Io&#8217;s Range library. Thanks to the well-thought out questions in Day 1, I already had a list of places to go for help. In the #io channel on freenode I had the good luck to run into <a href='http://jeremy.tregunna.ca/'>Jeremy Tregunna</a> and told him my problem. In a remarkably short period of time (minutes) he had confirmed that it was actually a bug, made the fix, and had a pull request created on the main Io repository on github. Shortly thereafter the patch was merged into the master branch where I downloaded it, compiled it, and could run my previously-broken code!</p>

<p>It was a surprising and pleasant experience for me, and I&#8217;d like to thank Jeremy in particular and the Io community in general for being so friendly, supportive, and quick. Thank you!</p>

<h2 id='highlights_from_exercises'>Highlights from exercises</h2>

<p>It was harder to pick out only a few to highlight - most of these questions were fun to solve and had interesting solutions.</p>

<p>The one that I liked best was <a href='/blog/2011/12/30/transposing-a-matrix-in-io/'>transposing a matrix</a>, and I felt there was enough good material in there to warrant an article of its own.</p>

<p>The solution for Question #2 was unexpectedly straightforward. Once again, Io&#8217;s absolute flexibility and willingness to let you shoot yourself in the foot pays off! The question was:</p>

<blockquote>
<p>2. How would you change / to return 0 if the denominator is zero?</p>
</blockquote>

<p>The answer was only two short lines of code:</p>
<div class='highlight'><pre><code class='io'>    <span class='n'>Number</span> <span class='n'>origDiv</span> <span class='o'>:=</span> <span class='n'>Number</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='s'>&quot;/&quot;</span><span class='o'>)</span>
    <span class='n'>Number</span> <span class='o'>/</span> <span class='o'>=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>denom</span><span class='o'>,</span> <span class='k'>if</span><span class='o'>(</span><span class='n'>denom</span> <span class='o'>==</span> <span class='mf'>0</span><span class='o'>,</span> <span class='mf'>0</span><span class='o'>,</span> <span class='n'>self</span> <span class='n'>origDiv</span><span class='o'>(</span><span class='n'>denom</span><span class='o'>)))</span>
</code></pre>
</div>
<p>The tricky part at first was figuring out how to save a reference to the original division method, but in retrospect it was blindingly obvious. It&#8217;s the same things I&#8217;ve been doing all along with Io: taking things out of slots and putting things in slots!</p>

<p>I would also like to highlight Question #3 to show off how clean writing in a functional style is in Io. The question was:</p>

<blockquote>
<p>3. Write a program to add up all of the numbers in a two-dimensional array.</p>
</blockquote>

<p>No loops needed here - Io has <code>map</code>, <code>filter</code>, <code>reduce</code>, and they mix <strong>well</strong> with Io&#8217;s syntax:</p>
<div class='highlight'><pre><code class='io'>    <span class='n'>addUp2DArray</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>array</span><span class='o'>,</span> <span class='n'>array</span> <span class='n'>flatten</span> <span class='n'>reduce</span><span class='o'>(+))</span>
</code></pre>
</div>
<p>That&#8217;s it for the highlights, but as I mentioned earlier, all of the exercises today were pretty interesting. Here is my full code listing for the exercises from Day 2 of Io. The home of this piece of code is with the other exercises <a href='https://github.com/nickknw/seven-languages-in-seven-weeks/blob/master/week-2-io/day2.io'>on github</a>.</p>
<div class='highlight'><pre><code class='io'><span class='c1'># Do:</span>
<span class='c1'>#</span>
<span class='c1'># 1. Write a program to find the nth Fibonacci number. Fib(1) is 1, and fib(4)</span>
<span class='c1'># is 3. As a bonus, solve the problem with recursion and with loops.</span>

<span class='n'>fib_recur</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>num</span><span class='o'>,</span>
    <span class='k'>if</span><span class='o'>(</span><span class='n'>num</span> <span class='o'>&lt;=</span> <span class='mf'>1</span><span class='o'>,</span> <span class='n'>num</span><span class='o'>,</span> <span class='n'>fib_recur</span><span class='o'>(</span><span class='n'>num</span> <span class='o'>-</span> <span class='mf'>1</span><span class='o'>)</span> <span class='o'>+</span> <span class='n'>fib_recur</span><span class='o'>(</span><span class='n'>num</span> <span class='o'>-</span> <span class='mf'>2</span><span class='o'>)</span> <span class='o'>)</span>
<span class='o'>)</span>

<span class='n'>fib_loop</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>num</span><span class='o'>,</span>
    <span class='n'>old</span> <span class='o'>:=</span> <span class='mf'>0</span>
    <span class='n'>new</span> <span class='o'>:=</span> <span class='mf'>1</span>
    <span class='n'>next</span> <span class='o'>:=</span> <span class='mf'>0</span>
    <span class='k'>for</span><span class='o'>(</span><span class='n'>i</span><span class='o'>,</span> <span class='n'>num</span><span class='o'>,</span> <span class='mf'>1</span><span class='o'>,</span> <span class='o'>-</span><span class='mf'>1</span><span class='o'>,</span>
        <span class='n'>next</span> <span class='o'>=</span> <span class='n'>old</span> <span class='o'>+</span> <span class='n'>new</span>
        <span class='n'>old</span> <span class='o'>=</span> <span class='n'>new</span>
        <span class='n'>new</span> <span class='o'>=</span> <span class='n'>next</span>
    <span class='o'>)</span>
    <span class='n'>old</span>
<span class='o'>)</span>
<span class='s'>&quot;Fib 0&quot;</span> <span class='n'>println</span>
<span class='n'>fib_recur</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>)</span> <span class='n'>println</span>
<span class='n'>fib_loop</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>)</span> <span class='n'>println</span>

<span class='s'>&quot;Fib 4&quot;</span> <span class='n'>println</span>
<span class='n'>fib_recur</span><span class='o'>(</span><span class='mf'>4</span><span class='o'>)</span> <span class='n'>println</span>
<span class='n'>fib_loop</span><span class='o'>(</span><span class='mf'>4</span><span class='o'>)</span> <span class='n'>println</span>

<span class='s'>&quot;Fib 8&quot;</span> <span class='n'>println</span>
<span class='n'>fib_recur</span><span class='o'>(</span><span class='mf'>8</span><span class='o'>)</span> <span class='n'>println</span>
<span class='n'>fib_loop</span><span class='o'>(</span><span class='mf'>8</span><span class='o'>)</span> <span class='n'>println</span>

<span class='c1'># 2. How would you change / to return 0 if the denominator is zero?</span>
<span class='c1'>#</span>
<span class='c1'># The tricky bit is saving a reference to the old method:</span>
<span class='n'>Number</span> <span class='n'>origDiv</span> <span class='o'>:=</span> <span class='n'>Number</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='s'>&quot;/&quot;</span><span class='o'>)</span>

<span class='c1'># Overriding the / method is surprisingly straightforward</span>
<span class='n'>Number</span> <span class='o'>/</span> <span class='o'>=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>denom</span><span class='o'>,</span> <span class='k'>if</span><span class='o'>(</span><span class='n'>denom</span> <span class='o'>==</span> <span class='mf'>0</span><span class='o'>,</span> <span class='mf'>0</span><span class='o'>,</span> <span class='n'>self</span> <span class='n'>origDiv</span><span class='o'>(</span><span class='n'>denom</span><span class='o'>)))</span>

<span class='s'>&quot;Testing division&quot;</span> <span class='n'>println</span>
<span class='mf'>4</span> <span class='o'>/</span> <span class='mf'>2</span> <span class='n'>println</span>
<span class='mf'>4</span> <span class='o'>/</span> <span class='mf'>0</span> <span class='n'>println</span>

<span class='c1'># 3. Write a program to add up all of the numbers in a two-dimensional array.</span>
<span class='n'>addUp2DArray</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>array</span><span class='o'>,</span> <span class='n'>array</span> <span class='n'>flatten</span> <span class='n'>reduce</span><span class='o'>(+))</span>

<span class='s'>&quot;add up 2d array&quot;</span> <span class='n'>println</span>
<span class='n'>addUp2DArray</span><span class='o'>(</span><span class='n'>list</span><span class='o'>(</span><span class='mf'>2</span><span class='o'>,</span><span class='mf'>3</span><span class='o'>,</span><span class='mf'>4</span><span class='o'>,</span><span class='mf'>5</span><span class='o'>))</span> <span class='n'>println</span>
<span class='n'>addUp2DArray</span><span class='o'>(</span><span class='n'>list</span><span class='o'>(</span><span class='mf'>2</span><span class='o'>,</span><span class='mf'>3</span><span class='o'>,</span> <span class='n'>list</span><span class='o'>(</span><span class='mf'>1</span><span class='o'>,</span><span class='mf'>1</span><span class='o'>,</span><span class='mf'>1</span><span class='o'>),</span> <span class='mf'>4</span><span class='o'>,</span><span class='mf'>5</span><span class='o'>))</span> <span class='n'>println</span>

<span class='c1'># 4. Add a slot called myAverage to a list that computes the average of all the</span>
<span class='c1'># numbers in a list. What happens if there are no numbers in a list? (Bonus:</span>
<span class='c1'># Raise an Io exception if any item in the list is not a number.)</span>

<span class='c1'># Easy way:</span>
<span class='n'>List</span> <span class='n'>myAverage</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>self</span> <span class='n'>average</span><span class='o'>)</span>

<span class='c1'># Probably the way he meant (plus bonus):</span>
<span class='n'>List</span> <span class='n'>myAverage2</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span>
    <span class='n'>containsNonDigit</span> <span class='o'>:=</span> <span class='n'>select</span><span class='o'>(</span><span class='n'>x</span><span class='o'>,</span> <span class='n'>x</span> <span class='n'>asNumber</span><span class='o'>()</span> <span class='n'>isNan</span><span class='o'>())</span> <span class='n'>size</span> <span class='o'>&gt;</span> <span class='mf'>0</span>
    <span class='k'>if</span><span class='o'>(</span><span class='n'>containsNonDigit</span><span class='o'>,</span> <span class='n'>Exception</span> <span class='n'>raise</span><span class='o'>(</span><span class='s'>&quot;An item in the list is not a number&quot;</span><span class='o'>))</span>

    <span class='n'>flatList</span> <span class='o'>:=</span> <span class='n'>self</span> <span class='n'>flatten</span>
    <span class='n'>flatList</span> <span class='n'>reduce</span><span class='o'>(+)</span> <span class='o'>/</span> <span class='n'>flatList</span> <span class='n'>size</span>
<span class='o'>)</span>

<span class='s'>&quot;Averaging the numbers in a list&quot;</span> <span class='n'>println</span>
<span class='n'>list</span><span class='o'>(</span><span class='mf'>1</span><span class='o'>,</span><span class='mf'>2</span><span class='o'>,</span><span class='mf'>3</span><span class='o'>,</span><span class='mf'>4</span><span class='o'>)</span> <span class='n'>myAverage2</span> <span class='n'>println</span>
<span class='c1'>#list(1,2,3,4,&quot;a&quot;) myAverage2 println</span>

<span class='c1'># 5. Write a prototype for a two-dimensional list. The dim(x,y) method should</span>
<span class='c1'># allocate a list of y lists that are x elements long, set(x, y, value) should</span>
<span class='c1'># set a value, and get(x, y) should return that value.</span>
<span class='c1'>#</span>
<span class='n'>List2D</span> <span class='o'>:=</span> <span class='n'>List</span> <span class='k'>clone</span>
<span class='n'>List2D</span> <span class='n'>transposed</span> <span class='o'>:=</span> <span class='no'>false</span>

<span class='n'>List2D</span> <span class='n'>dim</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>x</span><span class='o'>,</span> <span class='n'>y</span><span class='o'>,</span>
    <span class='n'>y</span> <span class='n'>repeat</span><span class='o'>(</span>
        <span class='n'>inner</span> <span class='o'>:=</span> <span class='n'>list</span><span class='o'>()</span>
        <span class='n'>x</span> <span class='n'>repeat</span><span class='o'>(</span><span class='n'>inner</span> <span class='n'>push</span><span class='o'>(</span><span class='no'>nil</span><span class='o'>))</span>
        <span class='n'>self</span> <span class='n'>append</span><span class='o'>(</span><span class='n'>inner</span><span class='o'>)</span>
    <span class='o'>)</span>
<span class='o'>)</span>

<span class='c1'># Hmmm, let&#39;s try this again</span>

<span class='c1'># Make sure you have this commit before using this solution</span>
<span class='c1'># https://github.com/stevedekorte/io/commit/4907d9d618499daa8973c0db380317678c0abd51</span>
<span class='n'>List2D</span> <span class='n'>dim2</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>x</span><span class='o'>,</span> <span class='n'>y</span><span class='o'>,</span>
    <span class='n'>y</span> <span class='n'>repeat</span><span class='o'>(</span><span class='n'>self</span> <span class='n'>append</span><span class='o'>(</span><span class='n'>Range</span> <span class='mf'>0</span> <span class='n'>to</span><span class='o'>(</span><span class='n'>x</span><span class='o'>)</span> <span class='n'>asList</span><span class='o'>()</span> <span class='n'>map</span><span class='o'>(</span><span class='no'>nil</span><span class='o'>)))</span>
<span class='o'>)</span>

<span class='s'>&quot;Creating matrices&quot;</span> <span class='n'>println</span>
<span class='n'>firstMatrix</span> <span class='o'>:=</span> <span class='n'>List2D</span> <span class='k'>clone</span>
<span class='n'>firstMatrix</span> <span class='n'>dim</span><span class='o'>(</span><span class='mf'>6</span><span class='o'>,</span><span class='mf'>7</span><span class='o'>)</span> <span class='n'>println</span>
<span class='s'>&quot;&quot;</span> <span class='n'>println</span>

<span class='n'>secondMatrix</span> <span class='o'>:=</span> <span class='n'>List2D</span> <span class='k'>clone</span>
<span class='n'>secondMatrix</span> <span class='n'>dim2</span><span class='o'>(</span><span class='mf'>6</span><span class='o'>,</span><span class='mf'>7</span><span class='o'>)</span> <span class='n'>println</span>
<span class='s'>&quot;&quot;</span> <span class='n'>println</span>

<span class='c1'># The below will cause infinite loop until you apply the change in the</span>
<span class='c1'># commit above</span>
<span class='n'>testBounds</span> <span class='o'>:=</span> <span class='n'>List2D</span> <span class='k'>clone</span>
<span class='n'>testBounds</span> <span class='n'>dim2</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>,</span> <span class='mf'>2</span><span class='o'>)</span>
<span class='n'>testBounds</span> <span class='n'>dim2</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>,</span> <span class='mf'>2</span><span class='o'>)</span>

<span class='n'>List2D</span> <span class='n'>set</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>x</span><span class='o'>,</span> <span class='n'>y</span><span class='o'>,</span> <span class='n'>value</span><span class='o'>,</span>
    <span class='n'>self</span> <span class='n'>at</span><span class='o'>(</span><span class='n'>x</span><span class='o'>)</span> <span class='n'>atPut</span><span class='o'>(</span><span class='n'>y</span><span class='o'>,</span> <span class='n'>value</span><span class='o'>)</span>
<span class='o'>)</span>

<span class='n'>List2D</span> <span class='n'>get</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>x</span><span class='o'>,</span> <span class='n'>y</span><span class='o'>,</span>
    <span class='n'>self</span> <span class='n'>at</span><span class='o'>(</span><span class='n'>x</span><span class='o'>)</span> <span class='n'>at</span><span class='o'>(</span><span class='n'>y</span><span class='o'>)</span>
<span class='o'>)</span>

<span class='s'>&quot;Setting and getting a matrix&quot;</span> <span class='n'>println</span>
<span class='n'>firstMatrix</span> <span class='n'>set</span><span class='o'>(</span><span class='mf'>2</span><span class='o'>,</span><span class='mf'>4</span><span class='o'>,</span><span class='s'>&quot;asdfad&quot;</span><span class='o'>)</span>
<span class='n'>firstMatrix</span> <span class='n'>println</span>
<span class='s'>&quot;&quot;</span> <span class='n'>println</span>

<span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>2</span><span class='o'>,</span><span class='mf'>4</span><span class='o'>)</span> <span class='n'>println</span>
<span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>1</span><span class='o'>,</span><span class='mf'>2</span><span class='o'>)</span> <span class='n'>println</span>

<span class='c1'># 6. Bonus: Write a transpose method so that (new_matrix get(y, x)) ==</span>
<span class='c1'># matrix get(x,y) on the original list</span>

<span class='n'>flipFirstTwoArgs</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>,</span>
    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>setArgumentNames</span><span class='o'>(</span> <span class='n'>list</span><span class='o'>(</span>
        <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>at</span><span class='o'>(</span><span class='mf'>1</span><span class='o'>),</span>
        <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>at</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>),</span>
        <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>rest</span> <span class='n'>rest</span>
    <span class='o'>)</span> <span class='n'>flatten</span><span class='o'>)</span>
<span class='o'>)</span>

<span class='n'>List2D</span> <span class='n'>transpose</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span>
    <span class='n'>self</span> <span class='n'>get</span> <span class='o'>=</span> <span class='n'>flipFirstTwoArgs</span><span class='o'>(</span><span class='s'>&quot;get&quot;</span><span class='o'>)</span>
    <span class='n'>self</span> <span class='n'>set</span> <span class='o'>=</span> <span class='n'>flipFirstTwoArgs</span><span class='o'>(</span><span class='s'>&quot;set&quot;</span><span class='o'>)</span>
<span class='o'>)</span>

<span class='s'>&quot;Transposing a matrix&quot;</span> <span class='n'>println</span>
<span class='s'>&quot;2, 4: &quot;</span> <span class='n'>print</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>2</span><span class='o'>,</span><span class='mf'>4</span><span class='o'>)</span> <span class='n'>println</span>
<span class='s'>&quot;4, 2: &quot;</span> <span class='n'>print</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>4</span><span class='o'>,</span><span class='mf'>2</span><span class='o'>)</span> <span class='n'>println</span>

<span class='s'>&quot;transpose!&quot;</span> <span class='n'>println</span>
<span class='n'>firstMatrix</span> <span class='n'>transpose</span>

<span class='s'>&quot;2, 4: &quot;</span> <span class='n'>print</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>2</span><span class='o'>,</span><span class='mf'>4</span><span class='o'>)</span> <span class='n'>println</span>
<span class='s'>&quot;4, 2: &quot;</span> <span class='n'>print</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>4</span><span class='o'>,</span><span class='mf'>2</span><span class='o'>)</span> <span class='n'>println</span>
<span class='s'>&quot;Set 5, 3 to NEW&quot;</span> <span class='n'>println</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>set</span><span class='o'>(</span><span class='mf'>5</span><span class='o'>,</span><span class='mf'>3</span><span class='o'>,</span> <span class='s'>&quot;NEW&quot;</span><span class='o'>)</span>
<span class='s'>&quot;5, 3: &quot;</span> <span class='n'>print</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>5</span><span class='o'>,</span><span class='mf'>3</span><span class='o'>)</span> <span class='n'>println</span>
<span class='s'>&quot;3, 5: &quot;</span> <span class='n'>print</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>3</span><span class='o'>,</span><span class='mf'>5</span><span class='o'>)</span> <span class='n'>println</span>

<span class='s'>&quot;transpose again!&quot;</span> <span class='n'>println</span>
<span class='n'>firstMatrix</span> <span class='n'>transpose</span>

<span class='s'>&quot;2, 4: &quot;</span> <span class='n'>print</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>2</span><span class='o'>,</span><span class='mf'>4</span><span class='o'>)</span> <span class='n'>println</span>
<span class='s'>&quot;4, 2: &quot;</span> <span class='n'>print</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>4</span><span class='o'>,</span><span class='mf'>2</span><span class='o'>)</span> <span class='n'>println</span>
<span class='s'>&quot;5, 3: &quot;</span> <span class='n'>print</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>5</span><span class='o'>,</span><span class='mf'>3</span><span class='o'>)</span> <span class='n'>println</span>
<span class='s'>&quot;3, 5: &quot;</span> <span class='n'>print</span><span class='o'>;</span> <span class='n'>firstMatrix</span> <span class='n'>get</span><span class='o'>(</span><span class='mf'>3</span><span class='o'>,</span><span class='mf'>5</span><span class='o'>)</span> <span class='n'>println</span>

<span class='c1'># 7. Write the matrix to a file, and read a matrix from a file.</span>

<span class='s'>&quot;Writing and reading a matrix from a file&quot;</span> <span class='n'>println</span>
<span class='n'>file</span> <span class='o'>:=</span> <span class='n'>File</span> <span class='n'>with</span><span class='o'>(</span><span class='s'>&quot;matrix.txt&quot;</span><span class='o'>)</span>
<span class='n'>file</span> <span class='n'>remove</span>
<span class='n'>file</span> <span class='n'>openForUpdating</span>
<span class='n'>file</span> <span class='n'>write</span><span class='o'>(</span><span class='n'>firstMatrix</span> <span class='n'>join</span><span class='o'>(</span><span class='s'>&quot;, &quot;</span><span class='o'>))</span>
<span class='n'>file</span> <span class='n'>close</span>

<span class='n'>file</span> <span class='o'>=</span> <span class='n'>File</span> <span class='n'>with</span><span class='o'>(</span><span class='s'>&quot;matrix.txt&quot;</span><span class='o'>)</span>
<span class='n'>file</span> <span class='n'>openForReading</span>
<span class='n'>lines</span> <span class='o'>:=</span> <span class='n'>file</span> <span class='n'>readLines</span>
<span class='n'>file</span> <span class='n'>close</span>
<span class='n'>lines</span> <span class='n'>at</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>)</span> <span class='n'>type</span> <span class='n'>println</span>
<span class='n'>matrixFromFile</span> <span class='o'>:=</span> <span class='n'>lines</span> <span class='n'>at</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>)</span> <span class='n'>split</span><span class='o'>(</span><span class='s'>&quot;, &quot;</span><span class='o'>)</span>
<span class='n'>matrixFromFile</span> <span class='n'>type</span> <span class='n'>println</span>
<span class='n'>matrixFromFile</span> <span class='n'>println</span>

<span class='c1'># 8. Write a program that gives you ten tries to guess a random number from</span>
<span class='c1'># 1-100. If you would like, give a hint of &quot;hotter&quot; or &quot;colder&quot; after the first</span>
<span class='c1'># guess.</span>

<span class='s'>&quot;Random number guesser&quot;</span> <span class='n'>println</span>
<span class='n'>randomNumber</span> <span class='o'>:=</span> <span class='o'>((</span><span class='n'>Random</span> <span class='n'>value</span><span class='o'>)</span> <span class='o'>*</span> <span class='mf'>100</span> <span class='o'>+</span> <span class='mf'>1</span><span class='o'>)</span> <span class='n'>floor</span>

<span class='n'>i</span> <span class='o'>:=</span> <span class='mf'>0</span>
<span class='n'>guess</span> <span class='o'>:=</span> <span class='mf'>0</span>
<span class='n'>while</span><span class='o'>(</span><span class='n'>i</span> <span class='o'>&lt;</span> <span class='mf'>10</span> <span class='n'>and</span> <span class='n'>guess</span> <span class='o'>!=</span> <span class='n'>randomNumber</span><span class='o'>,</span>
    <span class='o'>(</span><span class='s'>&quot;Guess a number between 1 and 100: (guess &quot;</span> <span class='o'>..</span> <span class='n'>i</span><span class='o'>+</span><span class='mf'>1</span> <span class='o'>..</span> <span class='s'>&quot; of 10): &quot;</span><span class='o'>)</span> <span class='n'>print</span>
    <span class='n'>guess</span> <span class='o'>=</span> <span class='n'>ReadLine</span> <span class='n'>readLine</span>
    <span class='n'>guess</span> <span class='o'>=</span> <span class='k'>if</span><span class='o'>(</span><span class='n'>guess</span> <span class='n'>asNumber</span> <span class='n'>isNan</span><span class='o'>,</span> <span class='mf'>0</span><span class='o'>,</span> <span class='n'>guess</span> <span class='n'>asNumber</span><span class='o'>)</span>
    <span class='k'>if</span><span class='o'>(</span><span class='n'>guess</span> <span class='o'>&gt;</span> <span class='n'>randomNumber</span><span class='o'>,</span> <span class='s'>&quot;Too high&quot;</span> <span class='n'>println</span><span class='o'>)</span>
    <span class='k'>if</span><span class='o'>(</span><span class='n'>guess</span> <span class='o'>&lt;</span> <span class='n'>randomNumber</span><span class='o'>,</span> <span class='s'>&quot;Too low&quot;</span> <span class='n'>println</span><span class='o'>)</span>
    <span class='n'>i</span> <span class='o'>=</span> <span class='n'>i</span> <span class='o'>+</span> <span class='mf'>1</span>
<span class='o'>)</span>

<span class='k'>if</span><span class='o'>(</span><span class='n'>guess</span> <span class='o'>==</span> <span class='n'>randomNumber</span><span class='o'>,</span>
    <span class='s'>&quot;Congrats, you did it!&quot;</span> <span class='n'>println</span><span class='o'>,</span>
    <span class='s'>&quot;Too bad, maybe next time&quot;</span> <span class='n'>println</span><span class='o'>)</span>
</code></pre>
</div>
<p>And the output:</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>io day2.io
Fib 0
0
0
Fib 4
3
3
Fib 8
21
21
Testing division
2
0
add up 2d array
14
17
Averaging the numbers in a list
2.5
Creating matrices
list<span class='o'>(</span>list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>))</span>

list<span class='o'>(</span>list<span class='o'>(</span>nil, nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil, nil<span class='o'>))</span>

Setting and getting a matrix
list<span class='o'>(</span>list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, asdfad, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>))</span>

asdfad
nil
Transposing a matrix
2, 4: asdfad
4, 2: nil
transpose!
2, 4: nil
4, 2: asdfad
Set 5, 3 to NEW
5, 3: NEW
3, 5: nil
transpose again!
2, 4: asdfad
4, 2: nil
5, 3: nil
3, 5: NEW
Writing and reading a matrix from a file
Sequence
List
list<span class='o'>(</span>list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, asdfad, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, NEW<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>)</span>, list<span class='o'>(</span>nil, nil, nil, nil, nil, nil<span class='o'>))</span>
Random number guesser
Guess a number between 1 and 100: <span class='o'>(</span>guess 1 of 10<span class='o'>)</span>: 50
Too high
Guess a number between 1 and 100: <span class='o'>(</span>guess 2 of 10<span class='o'>)</span>: 25
Too low
Guess a number between 1 and 100: <span class='o'>(</span>guess 3 of 10<span class='o'>)</span>: 38
Too low
Guess a number between 1 and 100: <span class='o'>(</span>guess 4 of 10<span class='o'>)</span>: 44
Too high
Guess a number between 1 and 100: <span class='o'>(</span>guess 5 of 10<span class='o'>)</span>: 41
Too low
Guess a number between 1 and 100: <span class='o'>(</span>guess 6 of 10<span class='o'>)</span>: 43
Congrats, you did it!
</code></pre>
</div>
  </div>

  <div style="margin-top:20px; font-size:14px;">
    <a href="/blog/2012/01/11/seven-languages-week-2-day-2/#disqus_thread" data-disqus-identifier="/blog/2012/01/11/seven-languages-week-2-day-2">Comments</a>
  </div>

    <hr class="fancyrule" />

  <div>
  <h1 style="margin:0px"><a href="/blog/2011/12/30/transposing-a-matrix-in-io/">
  Transposing a matrix in Io
  </a></h1>
  <div class="faded" style="font-size:14px; margin-bottom:5px;">30 Dec 2011</div>
  <p>While doing the exercises from Seven Languages In Seven Weeks, I came up with a neat solution to transposing a matrix that was encouraged by Io&#8217;s flexibility and free-wheeling nature. Instead of creating a new transposed matrix or attempting a complicated in-place transpose, I did something that executes in O(1), uses a negligible amount of memory, and is very short and simple.</p>

<p>What? How is it possible to transpose a matrix of 1,000,000 elements in the same time it takes to transpose a matrix of 4?</p>

<p>By cheating! I <strong>don&#8217;t</strong> transpose the matrix, I modify the element accessor methods so that they interpret the <code>x</code> parameter as <code>y</code>, and vice versa. To my dismay, I later found that <a href='http://en.wikipedia.org/wiki/Transpose#Implementation_of_matrix_transposition_on_computers'>this isn&#8217;t a new approach</a> to solving this problem.</p>

<p>However, my implementation in Io still has something going for it. Because of Io&#8217;s extreme malleability, I can write my <code>transpose</code> method such that calling it permanently swaps the argument order in the <code>get</code> and <code>set</code> methods of that individual matrix object. In most other languages <a href='#footnote-1' class='super' id='footnote-1-link'>[1]</a> , writing this kind of fake transpose would require keeping track of state with if statements to check if a given matrix is currently &#8216;transposed&#8217; or not. This is, conceptually, nonsense: transposing is something you <em>do to</em> matrices, not a <em>property</em> of them.</p>

<p>Io lets you write this in a way that is fun, short, and elegant.</p>

<h2 id='the_solution'>The Solution</h2>

<p>Here is the problem statement from the book:</p>

<blockquote>
<p>Write a transpose method so that (new_matrix get(y, x)) == matrix get(x,y) on the original list</p>
</blockquote>

<p>Before we get started, this is what the final solution looks like. Try and become a little familiar with this before we move on (it will all be explained in detail below, don&#8217;t worry).</p>
<div class='highlight'><pre><code class='io'><span class='n'>flipFirstTwoArgs</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>,</span>
    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>setArgumentNames</span><span class='o'>(</span> <span class='n'>list</span><span class='o'>(</span>
        <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>at</span><span class='o'>(</span><span class='mf'>1</span><span class='o'>),</span>
        <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>at</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>),</span>
        <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>rest</span> <span class='n'>rest</span>
    <span class='o'>)</span> <span class='n'>flatten</span><span class='o'>)</span>
<span class='o'>)</span>

<span class='n'>List2D</span> <span class='n'>transpose</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span>
    <span class='n'>self</span> <span class='n'>get</span> <span class='o'>=</span> <span class='n'>flipFirstTwoArgs</span><span class='o'>(</span><span class='s'>&quot;get&quot;</span><span class='o'>)</span>
    <span class='n'>self</span> <span class='n'>set</span> <span class='o'>=</span> <span class='n'>flipFirstTwoArgs</span><span class='o'>(</span><span class='s'>&quot;set&quot;</span><span class='o'>)</span>
<span class='o'>)</span>
</code></pre>
</div>
<p>List2D is a simple matrix prototype from the previous exercise. It is the thing that is being transposed.</p>

<p>The <code>transpose</code> method itself is simple enough: most of the heavy lifting is done in a helper method I created, <code>flipFirstTwoArgs</code>. From its name and the name of its argument, we can tell this method is saying: &#8220;give me the name of a slot that holds a method and I will flip the first two arguments of that method&#8221;.</p>

<p>Okay. So, how?</p>

<h2 id='the_explanation'>The Explanation</h2>

<p>The following line of code gets the method we are going to modify and sets the names of its arguments.</p>

<p><strong>Line 1:</strong></p>
<div class='highlight'><pre><code class='io'>    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>setArgumentNames</span><span class='o'>(</span> 
        <span class='c1'>#list of argument names goes here </span>
    <span class='o'>)</span>
</code></pre>
</div>
<p>For a concrete example, if I just wanted to change the argument names for my &#8220;get&#8221; method from get(x, y) to get(y, x) I could hardcode in some values and call it like this:</p>
<div class='highlight'><pre><code class='io'>    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='s'>&quot;get&quot;</span><span class='o'>)</span> <span class='n'>setArgumentNames</span><span class='o'>(</span><span class='n'>list</span><span class='o'>(</span><span class='s'>&quot;y&quot;</span><span class='o'>,</span> <span class='s'>&quot;x&quot;</span><span class='o'>))</span>
</code></pre>
</div>
<p>But that wouldn&#8217;t quite be fancy enough. I&#8217;d rather write a method that would let me swap the first two arguments of <strong>any</strong> method. So, going back to the snippet above, that&#8217;s what the next two lines do:</p>

<p><strong>Lines 2-3:</strong></p>
<div class='highlight'><pre><code class='io'>    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>at</span><span class='o'>(</span><span class='mf'>1</span><span class='o'>),</span>
    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>at</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>),</span>
</code></pre>
</div>
<p>If I wanted to keep the arguments in the same order I would have put the 0 in the first line, then the 1 in the second line. Make sense so far?</p>

<p>I could have left it here, but then what would happen if I told it to change a method that looked like <code>doSomething(x, y, z)</code>? The z would get discarded and that method wouldn&#8217;t be very useful anymore. Hence the next line:</p>

<p><strong>Line 4:</strong></p>
<div class='highlight'><pre><code class='io'>    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>rest</span> <span class='n'>rest</span>
</code></pre>
</div>
<p><code>rest</code> is Io&#8217;s version of <code>cdr</code> or <code>tail</code>. It is a method that returns everything except for the first element of a list. So if you call <code>rest</code> on the result of <code>rest</code> you get a list that has all its elements except for the first two. It is like saying <code>drop 2</code> in Haskell.</p>

<p>Let&#8217;s recap. If I had called flipFirstTwoArgs with my fictitious <code>doSomething(x, y, z)</code> method, these previous lines would resolve into:</p>
<div class='highlight'><pre><code class='io'>    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='s'>&quot;doSomething&quot;</span><span class='o'>)</span> <span class='n'>setArgumentNames</span><span class='o'>(</span> <span class='n'>list</span><span class='o'>(</span>
        <span class='s'>&quot;y&quot;</span><span class='o'>,</span> 
        <span class='s'>&quot;x&quot;</span><span class='o'>,</span> 
        <span class='n'>list</span><span class='o'>(</span><span class='s'>&quot;z&quot;</span><span class='o'>)</span>
    <span class='o'>)</span> <span class='o'>)</span>
</code></pre>
</div>
<p>That&#8217;s not quite right, <code>setArgumentNames</code> is expecting a simple flat list, none of this nested list stuff. So let&#8217;s flatten the list of argument names before giving it to <code>setArgumentNames</code>.</p>

<p><strong>Line 5:</strong></p>
<div class='highlight'><pre><code class='io'>    <span class='o'>)</span> <span class='n'>flatten</span> <span class='o'>)</span>
</code></pre>
</div>
<p>If we apply it to the <code>doSomething</code> example, the code now looks like this:</p>
<div class='highlight'><pre><code class='io'>    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='s'>&quot;doSomething&quot;</span><span class='o'>)</span> <span class='n'>setArgumentNames</span><span class='o'>(</span> <span class='n'>list</span><span class='o'>(</span>
        <span class='s'>&quot;y&quot;</span><span class='o'>,</span> 
        <span class='s'>&quot;x&quot;</span><span class='o'>,</span> 
        <span class='n'>list</span><span class='o'>(</span><span class='s'>&quot;z&quot;</span><span class='o'>)</span>
    <span class='o'>)</span> <span class='n'>flatten</span> <span class='o'>)</span> 
</code></pre>
</div>
<p>Which would end up resolving into:</p>
<div class='highlight'><pre><code class='io'>    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='s'>&quot;doSomething&quot;</span><span class='o'>)</span> <span class='n'>setArgumentNames</span><span class='o'>(</span> <span class='n'>list</span><span class='o'>(</span><span class='s'>&quot;y&quot;</span><span class='o'>,</span> <span class='s'>&quot;x&quot;</span><span class='o'>,</span> <span class='s'>&quot;z&quot;</span><span class='o'>)</span> <span class='o'>)</span>
</code></pre>
</div>
<p>There, much better. And that explains the last line!</p>

<h2 id='wrapup'>Wrap-up</h2>

<p>Now, putting back together all the lines I&#8217;ve explained, here is the body of the <code>flipFirstTwoArgs</code> method again:</p>
<div class='highlight'><pre><code class='io'>    <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>setArgumentNames</span><span class='o'>(</span> <span class='n'>list</span><span class='o'>(</span>
        <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>at</span><span class='o'>(</span><span class='mf'>1</span><span class='o'>),</span>
        <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>at</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>),</span>
        <span class='n'>self</span> <span class='n'>getSlot</span><span class='o'>(</span><span class='n'>slotName</span><span class='o'>)</span> <span class='n'>argumentNames</span> <span class='n'>rest</span> <span class='n'>rest</span>
    <span class='o'>)</span> <span class='n'>flatten</span><span class='o'>)</span>
</code></pre>
</div>
<p>If I&#8217;ve done my job right, it should make a lot more sense this time.</p>

<p>You can find the rest of the code (including the List2D prototype) on github - a good place to start is <a href='https://github.com/nickknw/seven-languages-in-seven-weeks/blob/master/week-2-io/day2.io#L72'>line 72 of day2.io</a>. To read more I&#8217;ve written about solving these exercises, check my <a href='/projects/seven-languages-in-seven-weeks/'>project page for Seven Languages in Seven Weeks</a>.</p>
<h3>Footnotes</h3><ol><li>There are exceptions of course. I'm sure any lisp would be great at this, as well as Ruby, Groovy, and other languages with powerful metaprogramming capabilities. <a href='#footnote-1-link' id='footnote-1'>↩</a></li></ol>
  </div>

  <div style="margin-top:20px; font-size:14px;">
    <a href="/blog/2011/12/30/transposing-a-matrix-in-io/#disqus_thread" data-disqus-identifier="/blog/2011/12/30/transposing-a-matrix-in-io">Comments</a>
  </div>

    <hr class="fancyrule" />

  <div>
  <h1 style="margin:0px"><a href="/blog/2011/12/18/seven-languages-week-2-day-1/">
  Seven Languages In Seven Weeks: Week 2 (Io) - Day 1
  </a></h1>
  <div class="faded" style="font-size:14px; margin-bottom:5px;">18 Dec 2011</div>
  <p>Day 1 of Io is the first of many chapters that will give me that &#8216;new at programming&#8217; feeling again, where I fumble just trying to build a valid expression that does what I want it to. I actually like that feeling; it means I am learning something new and a web of structures is forming in my mind. I like it <em>almost</em> as much as finally making that first deep connection from a group of new concepts to some of your existing ones, and starting to grasp the parallels. Fortunately for me, that is what this book is all about!</p>
<div class='interjection'><p>
(This article is part of a series of posts I am doing about my journey through the exercises of the book <a href='http://pragprog.com/book/btlang/seven-languages-in-seven-weeks'>Seven Languages In Seven Weeks</a>. The article previous to this one is <a href='/blog/2011/12/15/seven-languages-week-1-day-3/'>Week 1 (Ruby) - Day 3</a>. For an overview see the <a href='/projects/seven-languages-in-seven-weeks/'>project page</a>.)
</p></div>
<h2 id='how_io_feels'>How Io feels</h2>

<p>Syntactically, Io is a very very lightweight language, evocative of lisps in its regularity and minimalism. It provides a nice contrast with the previous chapter on Ruby. Ruby&#8217;s definition of simple code is something like &#8220;The more an expression reads like a (succinct) explanation of its intent, the better&#8221; whereas Io&#8217;s definition of simple code is something like &#8220;The less extraneous syntax that is needed to represent an expression, the better&#8221;.</p>

<p>Because of this approach, Io lends itself very well to metaprogramming &#8211; at least as well as Ruby does, possibly better. It does not have as the wide and varied set of built-in metaprogramming tools that Ruby does, but it also needs far fewer due to the way the language is constructed. Io is a <a href='http://en.wikipedia.org/wiki/Prototype-based_programming'>prototype-based</a> language, the first of the less familiar programming paradigms in this book. I won&#8217;t go into depth about this here except to note that Javascript is prototype-based as well, so learning Io could be very beneficial to anyone that does a fair amount of programming Javascript.</p>

<h2 id='highlights_from_exercises'>Highlights from exercises</h2>

<p>The homework this week is short but well-constructed. It points out a couple of things that are important to remember for a newbie to Io. In particular, you will need <code>slotNames</code> a lot, so remember that one!</p>

<p>Here is my full code listing for the exercises from Day 1 of Io. The home of this piece of code is with the other exercises <a href='https://github.com/nickknw/seven-languages-in-seven-weeks/blob/master/week-2-io/day1.io'>on github</a>.</p>
<div class='highlight'><pre><code class='io'><span class='c1'># Find:</span>
<span class='c1'>#   Some Io example problems</span>
<span class='c1'>#       http://www.iolanguage.com/about/samplecode/</span>
<span class='c1'>#</span>
<span class='c1'>#   An Io community that will answer questions</span>
<span class='c1'>#       http://tech.groups.yahoo.com/group/iolanguage/messages</span>
<span class='c1'>#       http://stackoverflow.com/questions/tagged/iolanguage</span>
<span class='c1'>#       #io on freenode</span>
<span class='c1'>#       http://www.reddit.com/r/iolanguage</span>
<span class='c1'>#</span>
<span class='c1'>#   A style guide with Io idioms</span>
<span class='c1'>#       http://en.wikibooks.org/wiki/Io_Programming/Io_Style_Guide</span>
<span class='c1'>#</span>
<span class='c1'># Answer:</span>
<span class='c1'>#</span>
<span class='c1'># 1. Evaluate 1 + 1 and then 1 + &quot;one&quot;. Is Io strongly typed or weakly typed?</span>
<span class='c1'>#</span>
<span class='c1'>#   Strongly typed. Trying to run `1 + &quot;one&quot;` throws an exception that says:</span>
<span class='c1'>#       &quot;Exception: argument 0 to method &#39;+&#39; must be a Number, not a &#39;Sequence&#39;&quot;</span>
<span class='c1'>#   </span>
<span class='c1'># 2. Is 0 true or false? What about the empty string? Is nil true or false?</span>

<span class='k'>if</span><span class='o'>(</span><span class='mf'>0</span><span class='o'>)</span> <span class='n'>println</span>   <span class='c1'># true</span>
<span class='k'>if</span><span class='o'>(</span><span class='s'>&quot;&quot;</span><span class='o'>)</span> <span class='n'>println</span>  <span class='c1'># true</span>
<span class='k'>if</span><span class='o'>(</span><span class='no'>nil</span><span class='o'>)</span> <span class='n'>println</span> <span class='c1'># false</span>

<span class='c1'># 3. How can you tell what slots a prototype supports?</span>
<span class='c1'># &lt;prototype&gt; slotNames</span>

<span class='n'>Zerg</span> <span class='o'>:=</span> <span class='n'>Object</span> <span class='k'>clone</span>
<span class='n'>Zerg</span> <span class='n'>sixPool</span> <span class='o'>:=</span> <span class='s'>&quot;Zergling rush!&quot;</span>
<span class='n'>Zerg</span> <span class='n'>slotNames</span> <span class='n'>println</span>  <span class='c1'># will print list(type, sixPool)</span>

<span class='c1'># 4. What is the difference between = (equals), := (colon equals), and ::=</span>
<span class='c1'># (colon colon equals)? When would you use each one?</span>
<span class='c1'>#</span>
<span class='c1'># =     is used to assign something to an existing slot</span>
<span class='c1'># :=    is used to assign something to a previously non-existent slot</span>
<span class='c1'># ::=   is used to assign something to a previously non-existent slot as well as</span>
<span class='c1'>#       create a setter for that slot</span>
<span class='c1'>#   </span>
<span class='c1'>#   iolanguage.com&#39;s guide puts this much much better than I did:</span>
<span class='c1'>#</span>
<span class='c1'># ::= 	Creates slot, creates setter, assigns value</span>
<span class='c1'># := 	Creates slot, assigns value</span>
<span class='c1'># = 	Assigns value to slot if it exists, otherwise raises exception </span>
<span class='c1'>#</span>
<span class='c1'>#</span>
<span class='c1'># Do:</span>
<span class='c1'>#</span>
<span class='c1'># 1. Run an Io program from a file.</span>
<span class='c1'>#</span>
<span class='c1'># From the command line run: io day1.io</span>
<span class='c1'>#</span>

<span class='s'>&quot;successfully ran day1&quot;</span> <span class='n'>println</span>

<span class='c1'># 2.Execute the code in a slot given its name.</span>
<span class='c1'>#</span>
<span class='c1'># I&#39;m not quite sure I understood this question. I&#39;ll answer the two</span>
<span class='c1'># interpretations I could come up with.</span>
<span class='c1'>#</span>
<span class='c1'># If the code in a slot is stored as a method then just invoking the slot is</span>
<span class='c1'># enough:</span>

<span class='n'>Zerg</span> <span class='n'>macroItUp</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='s'>&quot;Injecting larvae now!&quot;</span> <span class='n'>println</span><span class='o'>)</span>
<span class='n'>Zerg</span> <span class='n'>macroItUp</span> <span class='c1'># Will print &quot;Injecting larvae now!&quot;</span>

<span class='c1'># If the code in a slot is stored as a string then you should use something like</span>
<span class='c1'># doString:</span>

<span class='n'>Zerg</span> <span class='n'>macroHarderSteps</span> <span class='o'>:=</span> <span class='o'>(</span><span class='s'>&quot;\&quot;Spreading creep now!\&quot; println&quot;</span><span class='o'>)</span>
<span class='n'>Zerg</span> <span class='n'>macroHarder</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='k'>doString</span><span class='o'>(</span><span class='n'>Zerg</span> <span class='n'>macroHarderSteps</span><span class='o'>))</span>
<span class='n'>Zerg</span> <span class='n'>macroHarder</span>

<span class='c1'># Update: Re-reading this now the intent of the question seems obvious! Write a</span>
<span class='c1'># method that, given a method name, will try to execute that method.</span>
<span class='s'>&quot;\nLet&#39;s try that again&quot;</span> <span class='n'>println</span>
<span class='n'>Zerg</span> <span class='n'>specifyMacro</span> <span class='o'>:=</span> <span class='k'>method</span><span class='o'>(</span><span class='n'>name</span><span class='o'>,</span> <span class='n'>perform</span><span class='o'>(</span><span class='n'>name</span><span class='o'>))</span>
<span class='n'>Zerg</span> <span class='n'>specifyMacro</span><span class='o'>(</span><span class='s'>&quot;macroItUp&quot;</span><span class='o'>)</span>
<span class='n'>Zerg</span> <span class='n'>specifyMacro</span><span class='o'>(</span><span class='s'>&quot;macroHarder&quot;</span><span class='o'>)</span>
<span class='s'>&quot;Done!&quot;</span> <span class='n'>println</span>
</code></pre>
</div>
<p>And the output:</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>io day1.io
<span class='nb'>true</span>
<span class='nb'>true</span>
<span class='nb'>false</span>
list<span class='o'>(</span><span class='nb'>type</span>, sixPool<span class='o'>)</span>
successfully ran day1
Injecting larvae now!
Spreading creep now!

Let<span class='err'>&#39;</span>s try that again
Injecting larvae now!
Spreading creep now!
Done!
</code></pre>
</div>
<p>Next in this series: <a href='/blog/2012/01/11/seven-languages-week-2-day-2/'>Day 2 of Io</a></p>
  </div>

  <div style="margin-top:20px; font-size:14px;">
    <a href="/blog/2011/12/18/seven-languages-week-2-day-1/#disqus_thread" data-disqus-identifier="/blog/2011/12/18/seven-languages-week-2-day-1">Comments</a>
  </div>

    <hr class="fancyrule" />

  <div>
  <h1 style="margin:0px"><a href="/blog/2011/12/15/seven-languages-week-1-day-3/">
  Seven Languages In Seven Weeks: Week 1 (Ruby) - Day 3
  </a></h1>
  <div class="faded" style="font-size:14px; margin-bottom:5px;">15 Dec 2011</div>
  <p>Day 3 is about metaprogramming: writing code that writes code. Now we are really getting into the meat of Ruby, exploring some of the things that things that set it apart from other languages. Ruby has a powerful and varied toolset to make metaprogramming easy and natural. It gives you full control to tweak and patch built in classes, and even makes it convenient. These tools(SYN) can combine with its flexible syntax to let you create readable internal DSLs especially easily.</p>
<div class='interjection'><p>
(This article is part of a series of posts I am doing about my journey through the exercises of the book <a href='http://pragprog.com/book/btlang/seven-languages-in-seven-weeks'>Seven Languages In Seven Weeks</a>. The article previous to this one is <a href='/blog/2011/12/04/seven-languages-week-1-day-2/'>Week 1 (Ruby) - Day 2</a>. For an overview see the <a href='/projects/seven-languages-in-seven-weeks/'>project page</a>.)
</p></div>
<h2 id='topics_covered'>Topics covered</h2>

<p>This was a fairly quick week, with only a few topics and one homework question. Not that this is a bad thing necessarily &#8211; in the end it turned out to be a nice break before the tough stuff really started. The main three topics in Day 3 were: open classes, method_missing, and mixins.</p>
<h3>Open classes</h3>
<p>In Ruby you have the power to modify or add to any class, even the built-in ones. You can open up the String class and add a new method called <code>quack()</code>, or redefine <code>size()</code> to return a random integer. Using this power without restraint can lead to pretty impressive messes of spaghetti code.</p>

<p>Modifying existing classes at runtime in this way has become known as <a href='http://en.wikipedia.org/wiki/Monkey_patch'>monkey patching</a>, and also (my favorite) <a href='http://www.ericdelabar.com/2008/05/metaprogramming-javascript.html'>duck punching</a>:</p>

<blockquote>
<p>Well, I was just totally sold by Adam, the idea being that if it walks like a duck and talks like a duck, it’s a duck, right? So if this duck is not giving you the noise that you want, you’ve got to just punch that duck until it returns what you expect. &#8211; Patrick Ewing</p>
</blockquote>

<p>You&#8217;ve got to just <em>punch</em> that duck.</p>
<h3>Method_missing</h3>
<p>This special method gets called any time a method that doesn&#8217;t exist is called. If you implement it you have access to the name and arguments of the method that was called. In the book, Bruce Tate gives an example of using this to create a nice way to specify roman numerals. The result is that you can say <code>roman.X</code>, <code>roman.III</code>, <code>roman.CXII</code>, etc.</p>

<p>I saw another example of <code>method_missing</code>&#8217;s power in Chapter 8 of <a href='http://shop.oreilly.com/product/9780596516178.do'>The Ruby Programming Language</a>, where a simple DSL for generating html is created. This is what it looks like in use:</p>
<div class='highlight'><pre><code class='ruby'><span class='n'>pagetitle</span> <span class='o'>=</span> <span class='s2'>&quot;Test Page for XML.generate&quot;</span>
<span class='no'>XML</span><span class='o'>.</span><span class='n'>generate</span><span class='p'>(</span><span class='no'>STDOUT</span><span class='p'>)</span> <span class='k'>do</span>
  <span class='n'>html</span> <span class='k'>do</span>
    <span class='n'>head</span> <span class='k'>do</span>
      <span class='n'>title</span> <span class='p'>{</span> <span class='n'>pagetitle</span> <span class='p'>}</span>
      <span class='n'>comment</span> <span class='s2'>&quot;This is a test&quot;</span>
    <span class='k'>end</span>
    <span class='n'>body</span> <span class='k'>do</span>
      <span class='n'>h1</span><span class='p'>(</span><span class='ss'>:style</span> <span class='o'>=&gt;</span> <span class='s2'>&quot;font-family:sans-serif&quot;</span><span class='p'>)</span> <span class='p'>{</span> <span class='n'>pagetitle</span> <span class='p'>}</span>
      <span class='n'>ul</span> <span class='ss'>:type</span><span class='o'>=&gt;</span><span class='s2'>&quot;square&quot;</span> <span class='k'>do</span>
        <span class='n'>li</span> <span class='p'>{</span> <span class='no'>Time</span><span class='o'>.</span><span class='n'>now</span> <span class='p'>}</span>
        <span class='n'>li</span> <span class='p'>{</span> <span class='no'>RUBY_VERSION</span> <span class='p'>}</span>
      <span class='k'>end</span>
    <span class='k'>end</span>
  <span class='k'>end</span>
<span class='k'>end</span>
</code></pre>
</div>
<p>The implementation is fairly short: they create a basic XML class in only 53 well-commented lines. If you&#8217;re interested, the code examples are available for inspection from <a href='http://www.davidflanagan.com/rpl/'>David Flanagan&#8217;s website</a>. For convenience, here is a link <a href='/RPL_XML.txt'>directly to this snippet of code</a>.</p>
<h3>Mixins</h3>
<p>Mixins are a way for a class to include code from a module inside itself. Imagine a class including a module with a <code>Meow()</code> method. This would let you call <code>Meow()</code> on any instance of that class. Combined with open classes and the ability to add or change methods at runtime, this makes it easy to package and use code that changes code.</p>

<p>As I understand it, ActiveRecord in Rails is sort of the poster child for how metaprogramming using mixins. It will customize your domain models at runtime with many things, including accessors using the column names from the database. I admit I don&#8217;t know a lot about the details of this area, but there is a whole book dedicated to <a href='http://pragprog.com/book/ppmetr/metaprogramming-ruby'>metaprogramming in Ruby</a> that I plan on reading someday.</p>

<h2 id='what_was_missing'>What was missing</h2>

<p>Surprisingly, an entire category of useful metaprogramming tools are are almost skipped right over in Day 3. There are a lot of great methods to interact with and create methods and classes on the fly, and these are only given a passing mention in one of the examples. Methods like <code>define_method</code>, <code>alias_method</code>, the different versions of <code>eval</code>, or <code>methods.grep</code>.</p>

<p>With these tools Ruby gives you, without much effort you can do things like: find all methods that have a name like <code>/check.*/</code>, systematically rename those methods, and replace them with a method that does something (like logging) and THEN execute the method.</p>

<p>Ola Bini has a great <a href='http://ola-bini.blogspot.com/2006/09/ruby-metaprogramming-techniques.html'>post about metaprogramming in Ruby</a> that talks about these techniques and more. I recommend it if you have been at all interested this post so far, it is well worth reading.</p>

<h2 id='highlights_from_exercises'>Highlights from exercises</h2>

<p>There was not very much to do for the homework questions this week, unfortunately, just one fairly short exercise. This day in particular was one that I think could have used some really cool examples. Metaprogramming has a lot of depth and exciting possibilities, and this chapter could have shown that off more with better exercises.</p>

<p>Anyway, the exercise for this day shows some basic usage of <code>method_missing</code>. The existing ActsAsCsv module is given to you to extend, so the most interesting bit of code in the exercise is the definition of <code>method_missing</code> in CsvRow. It takes the name of the method and attempts to return the rows from the column that has that name.</p>
<div class='highlight'><pre><code class='ruby'><span class='k'>def</span> <span class='nf'>method_missing</span> <span class='nb'>name</span><span class='p'>,</span> <span class='o'>*</span><span class='n'>args</span>
    <span class='n'>content_index</span> <span class='o'>=</span> <span class='vi'>@header_row</span><span class='o'>.</span><span class='n'>index</span><span class='p'>(</span><span class='nb'>name</span><span class='o'>.</span><span class='n'>to_s</span><span class='p'>)</span>
    <span class='k'>return</span> <span class='vi'>@content_row</span><span class='o'>[</span><span class='n'>content_index</span><span class='o'>]</span>
<span class='k'>end</span>
</code></pre>
</div>
<p>Here is my full code listing for the exercises from Day 3 of Ruby. The home of this piece of code is with the other exercises <a href='https://github.com/nickknw/seven-languages-in-seven-weeks/blob/master/week-1-ruby/day3.rb'>on github</a>.</p>
<div class='highlight'><pre><code class='ruby'><span class='c1'>#Do:</span>
<span class='c1'># 1. Modify the CSV application to support an each method to return a CsvRow</span>
<span class='c1'># object. Use method_missing on that CsvRow to return the value for the column</span>
<span class='c1'># for a given heading.</span>

<span class='k'>module</span> <span class='nn'>ActsAsCsv</span>

    <span class='k'>def</span> <span class='nc'>self</span><span class='o'>.</span><span class='nf'>included</span><span class='p'>(</span><span class='n'>base</span><span class='p'>)</span>
        <span class='n'>base</span><span class='o'>.</span><span class='n'>extend</span> <span class='no'>ClassMethods</span>
    <span class='k'>end</span>

    <span class='k'>module</span> <span class='nn'>ClassMethods</span>
        <span class='k'>def</span> <span class='nf'>acts_as_csv</span>
            <span class='kp'>include</span> <span class='no'>InstanceMethods</span>
        <span class='k'>end</span>
    <span class='k'>end</span>

    <span class='k'>module</span> <span class='nn'>InstanceMethods</span>

        <span class='kp'>attr_accessor</span> <span class='ss'>:headers</span><span class='p'>,</span> <span class='ss'>:csv_rows</span>

        <span class='k'>def</span> <span class='nf'>read</span>
            <span class='vi'>@csv_rows</span> <span class='o'>=</span> <span class='o'>[]</span>
            <span class='n'>file</span> <span class='o'>=</span> <span class='no'>File</span><span class='o'>.</span><span class='n'>new</span><span class='p'>(</span><span class='nb'>self</span><span class='o'>.</span><span class='n'>class</span><span class='o'>.</span><span class='n'>to_s</span><span class='o'>.</span><span class='n'>downcase</span> <span class='o'>+</span> <span class='s1'>&#39;.txt&#39;</span><span class='p'>)</span>
            <span class='vi'>@headers</span> <span class='o'>=</span> <span class='n'>file</span><span class='o'>.</span><span class='n'>gets</span><span class='o'>.</span><span class='n'>chomp</span><span class='o'>.</span><span class='n'>split</span><span class='p'>(</span><span class='s1'>&#39;, &#39;</span><span class='p'>)</span>

            <span class='n'>file</span><span class='o'>.</span><span class='n'>each</span> <span class='k'>do</span> <span class='o'>|</span><span class='n'>row</span><span class='o'>|</span>
                <span class='n'>csv_contents</span> <span class='o'>=</span> <span class='n'>row</span><span class='o'>.</span><span class='n'>chomp</span><span class='o'>.</span><span class='n'>split</span><span class='p'>(</span><span class='s1'>&#39;, &#39;</span><span class='p'>)</span>
                <span class='vi'>@csv_rows</span> <span class='o'>&lt;&lt;</span> <span class='no'>CsvRow</span><span class='o'>.</span><span class='n'>new</span><span class='p'>(</span><span class='vi'>@headers</span><span class='p'>,</span> <span class='n'>csv_contents</span><span class='p'>)</span>
            <span class='k'>end</span>
        <span class='k'>end</span>

        <span class='k'>def</span> <span class='nf'>initialize</span>
            <span class='n'>read</span>
        <span class='k'>end</span>

        <span class='k'>def</span> <span class='nf'>each</span> <span class='o'>&amp;</span><span class='n'>block</span>
            <span class='vi'>@csv_rows</span><span class='o'>.</span><span class='n'>each</span> <span class='o'>&amp;</span><span class='n'>block</span>
        <span class='k'>end</span>

    <span class='k'>end</span>

    <span class='k'>class</span> <span class='nc'>CsvRow</span>
        <span class='kp'>attr_accessor</span> <span class='ss'>:header_row</span><span class='p'>,</span> <span class='ss'>:content_row</span>

        <span class='k'>def</span> <span class='nf'>initialize</span><span class='p'>(</span><span class='n'>header_row</span><span class='p'>,</span> <span class='n'>content_row</span><span class='p'>)</span>
            <span class='vi'>@header_row</span> <span class='o'>=</span> <span class='n'>header_row</span>
            <span class='vi'>@content_row</span> <span class='o'>=</span> <span class='n'>content_row</span>
        <span class='k'>end</span>

        <span class='k'>def</span> <span class='nf'>method_missing</span> <span class='nb'>name</span><span class='p'>,</span> <span class='o'>*</span><span class='n'>args</span>
            <span class='n'>content_index</span> <span class='o'>=</span> <span class='vi'>@header_row</span><span class='o'>.</span><span class='n'>index</span><span class='p'>(</span><span class='nb'>name</span><span class='o'>.</span><span class='n'>to_s</span><span class='p'>)</span>
            <span class='k'>return</span> <span class='vi'>@content_row</span><span class='o'>[</span><span class='n'>content_index</span><span class='o'>]</span>
        <span class='k'>end</span>
    <span class='k'>end</span>
<span class='k'>end</span>

<span class='k'>class</span> <span class='nc'>RubyCsv</span> 
    <span class='kp'>include</span> <span class='no'>ActsAsCsv</span>
    <span class='n'>acts_as_csv</span>
<span class='k'>end</span>

<span class='n'>csv</span> <span class='o'>=</span> <span class='no'>RubyCsv</span><span class='o'>.</span><span class='n'>new</span>
<span class='n'>csv</span><span class='o'>.</span><span class='n'>each</span> <span class='p'>{</span><span class='o'>|</span><span class='n'>row</span><span class='o'>|</span> <span class='nb'>puts</span> <span class='n'>row</span><span class='o'>.</span><span class='n'>one</span><span class='p'>}</span>
</code></pre>
</div>
<p>And the output (given the sample file in my github repo):</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>ruby day3.rb
lions
han
chewbacca
r2 d2
anakin skywalker
leia organa
threepio
jawa
emperor palpatine
darth sidious
bail organa
vader
</code></pre>
</div>
<p>Next in this series: <a href='/blog/2011/12/18/seven-languages-week-2-day-1/'>Day 1 of Io</a></p>
  </div>

  <div style="margin-top:20px; font-size:14px;">
    <a href="/blog/2011/12/15/seven-languages-week-1-day-3/#disqus_thread" data-disqus-identifier="/blog/2011/12/15/seven-languages-week-1-day-3">Comments</a>
  </div>

    <hr class="fancyrule" />


<a href="/blog/archive/">← Older posts</a>

  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'nickknowlson'; // required: replace example with your forum shortname
  
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
  </script>

            </div>
        </div>
        <div id="footer">&copy; Copyright 2011 Nick Knowlson</div>
        <div style="display: none;">Content by Nick Knowlson: <a href="https://plus.google.com/111820015518413982003?rel=author">Google+</a></div>
        <!--  " - 2012" -->
    </body>
</html>
